{
    "lastModified": 1771138364,
    "version": "v5.8.3.1-beta",
    "hotfix": [
        {
            "need_hotfix_version": [
                "v5.8.3.1-beta"
            ],
            "target_module": "channelHandler.vivoLogin.vivoChannel",
            "target_commit": "e666fc5edd5b7360dfc522be673da9c906e9dff2",
            "note": "修复vivo登录失败的问题"
        },
        {
            "need_hotfix_version": [
                "v5.8.3.1-beta"
            ],
            "target_module": "channelHandler.huaLogin.huaChannel",
            "target_commit": "e666fc5edd5b7360dfc522be673da9c906e9dff2",
            "note": "规范渠道服清理流程"
        },
        {
            "need_hotfix_version": [
                "v5.8.3.1-beta"
            ],
            "target_module": "channelHandler.WebLoginUtils",
            "target_commit": "e666fc5edd5b7360dfc522be673da9c906e9dff2",
            "note": "修改初始化问题，防止vivo导出cookies死锁"
        }
    ],
    "shortcuts": [
        {
            "name": "官服教程",
            "url": "https://www.yuque.com/keygen/kg2r5k/izpgpf4g3ecqsbf3#EiZDu",
            "policy": "once"
        },
        {
            "name": "渠道服教程",
            "url": "https://www.yuque.com/keygen/kg2r5k/izpgpf4g3ecqsbf3#WD82D",
            "policy": "once"
        },
        {
            "name": "常见问题解决方案",
            "url": "https://www.yuque.com/keygen/kg2r5k/sni3150i6dfykkt1",
            "policy": "once"
        },
        {
            "name": "第五人格新引擎免发烧平台更新指南",
            "url": "https://www.yuque.com/keygen/kg2r5k/eczvdfpiq5l6gicw",
            "policy": "once"
        }
    ],
    "detail": "### idv-login登录助手 v5.8.3.1-beta 更新日志\r\n\r\n## v5.8.3.1-beta 新功能\r\n[·] 应群友要求，为程序增加了热更新功能。热更新前会对将要更新的代码进行提示，用户可以按需进行热更新。此功能主要是为了降低维护成本、减少从网盘或其他来源下载新版本的频率。下载最新包体后即可体验热更新功能，介意勿更。\r\n\r\n## v5.8.3.1-beta 问题修复\r\n[·] 尝试修复VIVO账号登录失败的问题\r\n[·] 修复了首次启动工具时，可能重复创建快捷方式的问题\r\n\r\n\r\n## v5.8.3-beta 新功能\r\n[·] 更新底层Python版本至3.12，更新Qt版本到PyQt6.6，提升整体性能和兼容性\r\n[·] 新增渠道服账号云同步功能\r\n\r\n## v5.8.3-beta 问题修复\r\n[·] 彻底修复了小米、华为等需要手动登录的渠道服白屏的问题\r\n[·] 修复了有时无法创建快捷方式的问题，对于无法创建快捷方式的情况增加了提示\r\n[·] 修复了在火狐浏览器上打开渠道服管理界面时出现证书错误的问题\r\n[·] 优化了应用宝微信扫码登录的方式，现在会在前端渲染二维码，修复了部分情况下二维码无法显示的问题\r\n[·] 解决启动器数据走代理导致启动器信息无法加载的问题\r\n\r\n## 温馨提示 \r\n此版本不支持低于Windows 10的系统，如为Windows 7/8用户请勿更新，更新后无法使用。",
    "downloadUrl": "https://gitee.com/opguess/idv-login/releases/tag/v5.8.3.1-beta",
    "guideUrl": "https://www.yuque.com/keygen/kg2r5k/izpgpf4g3ecqsbf3",
    "risk_wm": "长期保存 注意盗号毁号风险\n\n请拍照留存此信息，如果遇到疑似盗号毁号：访问\nhttps://surl.fan/WViuRd\n如是在本人电脑扫码，请无视",
    "announcement": "【关于发烧平台】\n第五人格PC端已于近期迁移至发烧平台，需要重新下载新包体。\n工具已经完成两种适配：对于使用发烧平台的用户，工具对和发烧平台的共存和渠道服账号登录逻辑做了优化，旧版本工具无法登录发烧平台渠道服。\n对于想要使用新引擎，但是不想下载发烧平台的用户，工具提供不需要安装发烧平台的新引擎下载和启动功能。\n详情请阅读更新日志和文档。\n\n【关于新版本】\n在v5.8.2中，启动时如果出现“发生未处理的异常”，请参见《常见问题解决方案》问题22，或更新工具版本。\n在v5.8.2中，如果游戏下载后打开提示“请使用发烧平台启动游戏”，请更新工具至v5.8.2.2，或者使用工具启动游戏，暂时不使用快捷方式启动。\n近期为适配新引擎，更新频繁，感谢各位理解\n",
    "login_base64_page": "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9InpoLWNuIj4KCjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIj4KICAgIDx0aXRsZT7muKDpgZPmnI3otKblj7fnrqHnkIY8L3RpdGxlPgogICAgPGxpbmsgcmVsPSJpY29uIgogICAgICAgIGhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBWUFBQUFmRmNTSkFBQUFEVWxFUVZSNDJtTmsrUCsvSGdBRmR3STJRT1FqZVFBQUFBQkpSVTVFcmtKZ2dnPT0iPgoKCiAgICA8IS0tIOi1hOa6kOS8mOWFiOS7jiBzNC56c3RhdGljLm5ldCDliqDovb3vvIzlpLHotKXlm57pgIDliLAgY2xvdWRmbGFyZSAtLT4KICAgIDxzY3JpcHQ+CiAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgY29uc3QgcHJpbWFyeSA9IHsKICAgICAgICAgICAgICAgIGpzOiBbCiAgICAgICAgICAgICAgICAgICAgeyBzcmM6ICdodHRwczovL3M0LnpzdGF0aWMubmV0L2FqYXgvbGlicy9zd2VldGFsZXJ0LzIuMS4yL3N3ZWV0YWxlcnQubWluLmpzJywgaW50ZWdyaXR5OiAnc2hhNTEyLUFBMUJ6cDVRMEsxS2FuS0ttdk4vNGQzSVJLVmx2OVBZZ3dGUHZtMzJuUE82UVM4eUgxSE83TGJnQjFwZ2lPeFB0ZmVnNXpFbjJiYTY0TVVjcUp4NkNBPT0nIH0sCiAgICAgICAgICAgICAgICAgICAgeyBzcmM6ICdodHRwczovL3M0LnpzdGF0aWMubmV0L2FqYXgvbGlicy9ib290c3RyYXAvNS4zLjgvanMvYm9vdHN0cmFwLm1pbi5qcycsIGludGVncml0eTogJ3NoYTUxMi1uS1htS3ZKeWlHUXkzNDNqYXRRbHpEcHJmbHlCNWMrdEtDekdQM1VxNjd2K2xtemZuWlVpL1pUK2ZjNklUWmZTQzVIaGFCS1VJdnIvblRMQ1YrN0YrUT09JyB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgY3NzOiBbCiAgICAgICAgICAgICAgICAgICAgeyBocmVmOiAnaHR0cHM6Ly9zNC56c3RhdGljLm5ldC9hamF4L2xpYnMvYm9vdHN0cmFwLzUuMy44L2Nzcy9ib290c3RyYXAubWluLmNzcycsIGludGVncml0eTogJ3NoYTUxMi0yYkJRQ2pjbnc2NThMaG80bmxYSmNjNldrVi9VeHBFL3NBb2tiWFB4UU5HcW1OZFFyV3F0dzI2TnM5a0ZGL3lHNzkycEtSMVN4OC9ZMUxmMVhONEdLQT09JyB9LAogICAgICAgICAgICAgICAgICAgIHsgaHJlZjogJ2h0dHBzOi8vczQuenN0YXRpYy5uZXQvYWpheC9saWJzL2Jvb3RzdHJhcC1pY29ucy8xLjEzLjEvZm9udC9ib290c3RyYXAtaWNvbnMubWluLmNzcycsIGludGVncml0eTogJ3NoYTUxMi10N0Zldzl4bGRkRW1nZDNvS1pRYWhrTkk0ZFM2bDgwK2VHRXpGUWlxdHlWWWR2Y1NHMkQzSXViNzdSMjBCZG90ZlJQQTljYWFSa2cxdHlhSmlQbU8wZz09JyB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBjb25zdCBmYWxsYmFjayA9IHsKICAgICAgICAgICAgICAgIGpzOiBbCiAgICAgICAgICAgICAgICAgICAgeyBzcmM6ICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9zd2VldGFsZXJ0LzIuMS4yL3N3ZWV0YWxlcnQubWluLmpzJywgaW50ZWdyaXR5OiAnc2hhNTEyLUFBMUJ6cDVRMEsxS2FuS0ttdk4vNGQzSVJLVmx2OVBZZ3dGUHZtMzJuUE82UVM4eUgxSE83TGJnQjFwZ2lPeFB0ZmVnNXpFbjJiYTY0TVVjcUp4NkNBPT0nIH0sCiAgICAgICAgICAgICAgICAgICAgeyBzcmM6ICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9ib290c3RyYXAvNS4zLjgvanMvYm9vdHN0cmFwLm1pbi5qcycsIGludGVncml0eTogJ3NoYTUxMi1uS1htS3ZKeWlHUXkzNDNqYXRRbHpEcHJmbHlCNWMrdEtDekdQM1VxNjd2K2xtemZuWlVpL1pUK2ZjNklUWmZTQzVIaGFCS1VJdnIvblRMQ1YrN0YrUT09JyB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgY3NzOiBbCiAgICAgICAgICAgICAgICAgICAgeyBocmVmOiAnaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvYm9vdHN0cmFwLzUuMy44L2Nzcy9ib290c3RyYXAubWluLmNzcycsIGludGVncml0eTogJ3NoYTUxMi0yYkJRQ2pjbnc2NThMaG80bmxYSmNjNldrVi9VeHBFL3NBb2tiWFB4UU5HcW1OZFFyV3F0dzI2TnM5a0ZGL3lHNzkycEtSMVN4OC9ZMUxmMVhONEdLQT09JyB9LAogICAgICAgICAgICAgICAgICAgIHsgaHJlZjogJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2Jvb3RzdHJhcC1pY29ucy8xLjEzLjEvZm9udC9ib290c3RyYXAtaWNvbnMubWluLmNzcycsIGludGVncml0eTogJ3NoYTUxMi10N0Zldzl4bGRkRW1nZDNvS1pRYWhrTkk0ZFM2bDgwK2VHRXpGUWlxdHlWWWR2Y1NHMkQzSXViNzdSMjBCZG90ZlJQQTljYWFSa2cxdHlhSmlQbU8wZz09JyB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBmdW5jdGlvbiBsb2FkQ3NzSXRlbShpdGVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpOwogICAgICAgICAgICAgICAgICAgIGxpbmsucmVsID0gJ3N0eWxlc2hlZXQnOwogICAgICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IGl0ZW0uaHJlZjsKICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5pbnRlZ3JpdHkpIGxpbmsuaW50ZWdyaXR5ID0gaXRlbS5pbnRlZ3JpdHk7CiAgICAgICAgICAgICAgICAgICAgbGluay5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnOwogICAgICAgICAgICAgICAgICAgIGxpbmsucmVmZXJyZXJQb2xpY3kgPSAnbm8tcmVmZXJyZXInOwogICAgICAgICAgICAgICAgICAgIGxpbmsub25sb2FkID0gKCkgPT4gcmVzb2x2ZSh7IG9rOiB0cnVlIH0pOwogICAgICAgICAgICAgICAgICAgIGxpbmsub25lcnJvciA9ICgpID0+IHJlc29sdmUoeyBvazogZmFsc2UgfSk7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBsb2FkU2NyaXB0SXRlbShpdGVtLCBpc01vZHVsZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgICAgICAgICAgICAgICAgIHMuc3JjID0gaXRlbS5zcmM7CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaW50ZWdyaXR5KSBzLmludGVncml0eSA9IGl0ZW0uaW50ZWdyaXR5OwogICAgICAgICAgICAgICAgICAgIHMuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJzsKICAgICAgICAgICAgICAgICAgICBzLnJlZmVycmVyUG9saWN5ID0gJ25vLXJlZmVycmVyJzsKICAgICAgICAgICAgICAgICAgICAvLyDkv53or4HmjInpobrluo/miafooYwKICAgICAgICAgICAgICAgICAgICBzLmFzeW5jID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgcy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKHsgb2s6IHRydWUgfSk7CiAgICAgICAgICAgICAgICAgICAgcy5vbmVycm9yID0gKCkgPT4gcmVzb2x2ZSh7IG9rOiBmYWxzZSB9KTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHMpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIHRyeUxvYWRXaXRoRmFsbGJhY2socHJpbWFyeUxpc3QsIGZhbGxiYWNrTGlzdCwgbG9hZGVyKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByaW1hcnlMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IHByaW1hcnlMaXN0W2ldOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGYgPSBmYWxsYmFja0xpc3QgJiYgZmFsbGJhY2tMaXN0W2ldID8gZmFsbGJhY2tMaXN0W2ldIDogbnVsbDsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBsb2FkZXIocCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5vaykgewogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2godHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHIyID0gYXdhaXQgbG9hZGVyKGYpOwogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocjIub2spOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOWQr+WKqOWKoOi9ve+8muWFiCBjc3Mg5bm26KGM5Yqg6L2977yM6ISa5pys5oyJ6aG65bqP5Yqg6L29CiAgICAgICAgICAgIChhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAvLyBDU1M6IOaIkeS7rOW4jOacm+WFiOWKoOi9vSBib290c3RyYXAgQ1NTIOeEtuWQjiBpY29uc++8jOS9huS4pOS4quWPr+S7peW5tuihjAogICAgICAgICAgICAgICAgLy8g5Li65q+P5LiqIENTUyDotYTmupDliJvlu7rkuIDkuKogcHJvbWlzZe+8jOWksei0peaXtuWbnumAgOWIsOWkh+eUqCBDRE4KICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByaW1hcnkuY3NzLm1hcCgocCwgaWR4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZiA9IChmYWxsYmFjay5jc3MgJiYgZmFsbGJhY2suY3NzW2lkeF0pID8gZmFsbGJhY2suY3NzW2lkeF0gOiBudWxsOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2FkQ3NzSXRlbShwKS50aGVuKHJlcyA9PiByZXMub2sgPyB0cnVlIDogKGYgPyBsb2FkQ3NzSXRlbShmKS50aGVuKHIgPT4gci5vaykgOiBmYWxzZSkpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIC8vIEpTOiDpnIDopoHmjInpobrluo/liqDovb0gc3dlZXRhbGVydCAtPiBib290c3RyYXAKICAgICAgICAgICAgICAgIGF3YWl0IHRyeUxvYWRXaXRoRmFsbGJhY2socHJpbWFyeS5qcywgZmFsbGJhY2suanMsIGxvYWRTY3JpcHRJdGVtKTsKICAgICAgICAgICAgfSkoKTsKICAgICAgICB9KSgpOwogICAgPC9zY3JpcHQ+CiAgICA8c3R5bGU+CiAgICAgICAgYm9keSB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgIkhlbHZldGljYSBOZXVlIiwgQXJpYWwsIHNhbnMtc2VyaWY7CiAgICAgICAgfQoKICAgICAgICAucGFnZS1oZWFkZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2Y2YWQ4OwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIHBhZGRpbmc6IDEuNXJlbSAwOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAycmVtOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwIDAgMTBweCAxMHB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgICAgIH0KCiAgICAgICAgLmNhcmQgewogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMC4yNXJlbSAwLjc1cmVtIHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMS41cmVtOwogICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4yczsKICAgICAgICB9CgogICAgICAgIC5jYXJkOmhvdmVyIHsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0zcHgpOwogICAgICAgIH0KCiAgICAgICAgLmNhcmQtaGVhZGVyIHsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjAyKTsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4wMyk7CiAgICAgICAgfQoKICAgICAgICAudGFibGUgewogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAuMTI1cmVtIDAuMjVyZW0gcmdiYSgwLCAwLCAwLCAwLjA1KTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMC41cmVtOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1hY3Rpb24gewogICAgICAgICAgICBwYWRkaW5nOiAwLjI1cmVtIDAuNXJlbTsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDNweDsKICAgICAgICB9CgogICAgICAgIC5zZWN0aW9uLXRpdGxlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjFyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgIGNvbG9yOiAjNDk1MDU3OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtOwogICAgICAgICAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkICMzZjZhZDg7CiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMC43NXJlbTsKICAgICAgICB9CgogICAgICAgIC5mb3JtLWNvbnRyb2wsCiAgICAgICAgLmZvcm0tc2VsZWN0IHsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMC4zNzVyZW07CiAgICAgICAgfQoKICAgICAgICAuYnRuLWdyb3VwIHsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMC4zNzVyZW07CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgfQoKICAgICAgICAuYWN0aW9uLWxhYmVsIHsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjc1cmVtOwogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tdG9wOiAycHg7CiAgICAgICAgICAgIGNvbG9yOiAjNmM3NTdkOwogICAgICAgIH0KCiAgICAgICAgLmFjdGlvbnMtY29udGFpbmVyIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZ2FwOiA1cHg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAuYWN0aW9uLWJ1dHRvbiB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAudGFibGUgdGggewogICAgICAgICAgICBmb250LXNpemU6IDAuODc1cmVtOwogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgIH0KCiAgICAgICAgLmxhdW5jaGVyLWNhcmQtYm9keSB7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICB9CgogICAgICAgIC5sYXVuY2hlci1iZyB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgaW5zZXQ6IDA7CiAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7CiAgICAgICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjsKICAgICAgICAgICAgZmlsdGVyOiBibHVyKDE2cHgpOwogICAgICAgICAgICBvcGFjaXR5OiAwLjM1OwogICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7CiAgICAgICAgfQoKICAgICAgICAubGF1bmNoZXItY29udGVudCB7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgei1pbmRleDogMTsKICAgICAgICB9CgogICAgICAgIC8qIOeKtuaAgeaMh+ekuuWZqOagt+W8jyAqLwogICAgICAgIC5zdGF0dXMtaW5kaWNhdG9yIHsKICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICAgICAgICB0b3A6IDIwcHg7CiAgICAgICAgICAgIHJpZ2h0OiAyMHB4OwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBnYXA6IDhweDsKICAgICAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45NSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMTUpOwogICAgICAgICAgICB6LWluZGV4OiAxMDAwOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgICAgIH0KCiAgICAgICAgLnN0YXR1cy1saWdodCB7CiAgICAgICAgICAgIHdpZHRoOiAxMnB4OwogICAgICAgICAgICBoZWlnaHQ6IDEycHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICAgICAgICB9CgogICAgICAgIC5zdGF0dXMtbGlnaHQuY29ubmVjdGVkIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzI4YTc0NTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDhweCByZ2JhKDQwLCAxNjcsIDY5LCAwLjYpOwogICAgICAgIH0KCiAgICAgICAgLnN0YXR1cy1saWdodC5kaXNjb25uZWN0ZWQgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGMzNTQ1OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgOHB4IHJnYmEoMjIwLCA1MywgNjksIDAuNik7CiAgICAgICAgICAgIGFuaW1hdGlvbjogcHVsc2UgMnMgaW5maW5pdGU7CiAgICAgICAgfQoKICAgICAgICAuc3RhdHVzLWxpZ2h0Lndhcm5pbmcgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZjMTA3OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgOHB4IHJnYmEoMjU1LCAxOTMsIDcsIDAuNik7CiAgICAgICAgfQoKICAgICAgICBAa2V5ZnJhbWVzIHB1bHNlIHsKCiAgICAgICAgICAgIDAlLAogICAgICAgICAgICAxMDAlIHsKICAgICAgICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIDUwJSB7CiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjU7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC5zdGF0dXMtdGV4dCB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07CiAgICAgICAgICAgIGNvbG9yOiAjNDk1MDU3OwogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgfQoKICAgICAgICAuc3RhdHVzLWluZGljYXRvcjpob3ZlciB7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMik7CiAgICAgICAgfQoKICAgICAgICAvKiDmlq3lvIDov57mjqXml7bnmoTpop3lpJbmj5DnpLrmoLflvI8gKi8KICAgICAgICAuc3RhdHVzLWluZGljYXRvci5kaXNjb25uZWN0ZWQtc3RhdGUgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDIyMCwgNTMsIDY5LCAwLjk1KTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBhbmltYXRpb246IHNoYWtlIDAuNXMgZWFzZS1pbi1vdXQ7CiAgICAgICAgICAgIGFuaW1hdGlvbi1kZWxheTogMXM7CiAgICAgICAgfQoKICAgICAgICAuc3RhdHVzLWluZGljYXRvci5kaXNjb25uZWN0ZWQtc3RhdGUgLnN0YXR1cy10ZXh0IHsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgIH0KCiAgICAgICAgLnN0YXR1cy1pbmRpY2F0b3IuZGlzY29ubmVjdGVkLXN0YXRlOjphZnRlciB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICfwn5GGIOeCueWHu+afpeeci+ino+WGs+aWueahiCc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgYm90dG9tOiAtMzBweDsKICAgICAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjIwLCA1MywgNjksIDAuOSk7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgcGFkZGluZzogNHB4IDEycHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC43NXJlbTsKICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggNnB4IHJnYmEoMCwgMCwgMCwgMC4yKTsKICAgICAgICAgICAgYW5pbWF0aW9uOiBib3VuY2UgMnMgaW5maW5pdGU7CiAgICAgICAgfQoKICAgICAgICBAa2V5ZnJhbWVzIHNoYWtlIHsKCiAgICAgICAgICAgIDAlLAogICAgICAgICAgICAxMDAlIHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgMjUlIHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNXB4KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgNzUlIHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBAa2V5ZnJhbWVzIGJvdW5jZSB7CgogICAgICAgICAgICAwJSwKICAgICAgICAgICAgMTAwJSB7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIDUwJSB7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8qIOWFqOWxgOmBrue9qeWxgu+8iOWPr+mAie+8jOWcqOi/nuaOpeWksei0peaXtumXtOi/h+mVv+aXtuaYvuekuu+8iSAqLwogICAgICAgIC5jb25uZWN0aW9uLW92ZXJsYXkgewogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjg1KTsKICAgICAgICAgICAgei1pbmRleDogOTk5OTsKICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAuY29ubmVjdGlvbi1vdmVybGF5LnNob3cgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIH0KCiAgICAgICAgLmNvbm5lY3Rpb24tbW9kYWwgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgICAgICAgICAgcGFkZGluZzogMzBweDsKICAgICAgICAgICAgbWF4LXdpZHRoOiA1MDBweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDEwcHggNDBweCByZ2JhKDAsIDAsIDAsIDAuMyk7CiAgICAgICAgICAgIGFuaW1hdGlvbjogc2xpZGVJbiAwLjNzIGVhc2Utb3V0OwogICAgICAgIH0KCiAgICAgICAgQGtleWZyYW1lcyBzbGlkZUluIHsKICAgICAgICAgICAgZnJvbSB7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwcHgpOwogICAgICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdG8gewogICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOwogICAgICAgICAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLmNvbm5lY3Rpb24tbW9kYWwgaDMgewogICAgICAgICAgICBjb2xvcjogI2RjMzU0NTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07CiAgICAgICAgfQoKICAgICAgICAuY29ubmVjdGlvbi1tb2RhbCBwIHsKICAgICAgICAgICAgY29sb3I6ICM0OTUwNTc7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7CiAgICAgICAgfQoKICAgICAgICAuY29ubmVjdGlvbi1tb2RhbCAuYnRuLXByaW1hcnkgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZGMzNTQ1OwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMzBweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjNzOwogICAgICAgIH0KCiAgICAgICAgLmNvbm5lY3Rpb24tbW9kYWwgLmJ0bi1wcmltYXJ5OmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2M4MjMzMzsKICAgICAgICB9CgogICAgICAgICNsYXVuY2hlckljb24gewogICAgICAgICAgICB3aWR0aDogOTZweDsKICAgICAgICAgICAgaGVpZ2h0OiA5NnB4OwogICAgICAgICAgICBvYmplY3QtZml0OiBjb250YWluOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjBmMGYwOwogICAgICAgIH0KCiAgICAgICAgI2xhdW5jaGVySWNvbi5oaWRkZW4gewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgIH0KCiAgICAgICAgLyog5aKe5by655qE56aB55So5oyJ6ZKu5qC35byPICovCiAgICAgICAgLmJ0bjpkaXNhYmxlZCwKICAgICAgICAuYnRuLmRpc2FibGVkIHsKICAgICAgICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZCAhaW1wb3J0YW50OwogICAgICAgICAgICBvcGFjaXR5OiAwLjYgIWltcG9ydGFudDsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZWNlZiAhaW1wb3J0YW50OwogICAgICAgICAgICBib3JkZXItY29sb3I6ICNkZWUyZTYgIWltcG9ydGFudDsKICAgICAgICAgICAgY29sb3I6ICNhZGI1YmQgIWltcG9ydGFudDsKICAgICAgICAgICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50OwogICAgICAgICAgICBwb2ludGVyLWV2ZW50czogYXV0byAhaW1wb3J0YW50OyAvKiDlhYHorrjmmL7npLrpvKDmoIfmoLflvI8gKi8KICAgICAgICB9CgogICAgICAgIC8qIOS4uuS4i+i9veWSjOabtOaWsOaMiemSrua3u+WKoOeJueWumuaPkOekuiAqLwogICAgICAgICNsYXVuY2hlckluc3RhbGxCdG46ZGlzYWJsZWQ6OmFmdGVyLAogICAgICAgICNsYXVuY2hlclVwZGF0ZUJ0bjpkaXNhYmxlZDo6YWZ0ZXIgewogICAgICAgICAgICBjb250ZW50OiAnICjkuI3lj6/nlKgpJzsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjhlbTsKICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDRweDsKICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cgo8Ym9keT4KICAgIDwhLS0g6L+e5o6l5aSx6LSl5YWo5bGA6YGu572p5bGCIC0tPgogICAgPGRpdiBjbGFzcz0iY29ubmVjdGlvbi1vdmVybGF5IiBpZD0iY29ubmVjdGlvbk92ZXJsYXkiPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbm5lY3Rpb24tbW9kYWwiPgogICAgICAgICAgICA8aDM+4pqg77iPIOW3peWFt+acqui/nuaOpTwvaDM+CiAgICAgICAgICAgIDxwPuajgOa1i+WIsOW3peWFt+WQjuerr+acjeWKoeacqui/kOihjOaIlui/nuaOpeWksei0peOAgjxicj7or7fmo4Dmn6Xlt6XlhbfmmK/lkKbmraPluLjlkK/liqjvvIzmiJbmn6XnnIvluLjop4Hpl67popjop6PnrZTojrflj5bluK7liqnjgII8L3A+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0ib3BlbkZBUUFuZENsb3NlT3ZlcmxheSgpIj4KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJiaSBiaS1xdWVzdGlvbi1jaXJjbGUgbWUtMiI+PC9pPuafpeeci+W4uOingemXrumimOino+etlAogICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPHAgY2xhc3M9Im10LTMgc21hbGwgdGV4dC1tdXRlZCI+CiAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiBvbmNsaWNrPSJkaXNtaXNzT3ZlcmxheSgpOyByZXR1cm4gZmFsc2U7IiBzdHlsZT0iY29sb3I6ICM2Yzc1N2Q7Ij7miJHnn6XpgZPkuobvvIzmmoLml7blv73nlaU8L2E+CiAgICAgICAgICAgIDwvcD4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0g54q25oCB5oyH56S65ZmoIC0tPgogICAgPGRpdiBjbGFzcz0ic3RhdHVzLWluZGljYXRvciIgaWQ9InN0YXR1c0luZGljYXRvciI+CiAgICAgICAgPGRpdiBjbGFzcz0ic3RhdHVzLWxpZ2h0IGRpc2Nvbm5lY3RlZCIgaWQ9InN0YXR1c0xpZ2h0Ij48L2Rpdj4KICAgICAgICA8cCBjbGFzcz0ic3RhdHVzLXRleHQiIGlkPSJzdGF0dXNUZXh0Ij7mo4Dmn6XkuK0uLi48L3A+CiAgICA8L2Rpdj4KCiAgICA8IS0tIOmhtemdouWktOmDqCAtLT4KICAgIDxkaXYgY2xhc3M9InBhZ2UtaGVhZGVyIHRleHQtY2VudGVyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgICAgICAgICA8aDEgY2xhc3M9ImZ3LWJvbGQgZnMtMyI+5rig6YGT5pyN6LSm5Y+3566h55CG57O757ufPC9oMT4KICAgICAgICAgICAgPHAgY2xhc3M9ImxlYWQgZnMtNiBtYi0wIj7ovbvmnb7nrqHnkIbmgqjnmoTmuLjmiI/otKblj7flkoznmbvlvZXkv6Hmga88L3A+CiAgICAgICAgICAgIDxwIGNsYXNzPSJzbWFsbCIgPgogICAgICAgICAgICAgICAgPGEgc3R5bGU9ImNvbG9yOiBiaXNxdWU7IiBocmVmPSJodHRwczovL2RvY3MucXEuY29tL2Zvcm0vcGFnZS9EVGsxTFkwWnVaMWg1VG1wWiIgdGFyZ2V0PSJfYmxhbmsiCiAgICAgICAgICAgICAgICAgICAgY2xhc3M9InRleHQtZGVjb3JhdGlvbi1ub25lIj7wn5aK54K55q2k5Y+C5LiO5paw54mI5pys5Yqf6IO95oqV56WoPC9hPgogICAgICAgICAgICA8L3A+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgICAgIDwhLS0g5bel5YW36K6+572u5Yy65Z+fIC0tPgogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgbWItNCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtaGVhZGVyIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIiPgogICAgICAgICAgICAgICAgPHNwYW4+PGkgY2xhc3M9ImJpIGJpLWdlYXIgbWUtMiI+PC9pPuW3peWFt+iuvue9rjwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtYm9keSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC02Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+5byA5ZCvSFRUUEROU+Wxj+iUvTwvc3Ryb25nPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz0iZC1ibG9jayB0ZXh0LW11dGVkIj7lsY/olL1IVFRQRE5T5pyN5Yqh5Lul56Gu5L+d5oum5oiq55Sf5pWI77yM5L2G5piv5Y+v6IO95a+86Ie06YOo5YiG5ri45oiP6IGU572R5aSx6LSlPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1jaGVjayBmb3JtLXN3aXRjaCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNoZWNrLWlucHV0IiB0eXBlPSJjaGVja2JveCIgaWQ9Imh0dHBkbnNUb2dnbGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlPSJ0b2dnbGVIdHRwRG5zQmxvY2tpbmcoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWNoZWNrLWxhYmVsIiBmb3I9Imh0dHBkbnNUb2dnbGUiPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9Imh0dHBkbnNTdGF0dXMiIGNsYXNzPSJtdC0yIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz0idGV4dC1tdXRlZCI+54q25oCB77yaPHNwYW4gaWQ9Imh0dHBkbnNTdGF0dXNUZXh0Ij7liqDovb3kuK0uLi48L3NwYW4+PC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTYiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7ml6Xlv5flr7zlh7o8L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9ImQtYmxvY2sgdGV4dC1tdXRlZCI+5a+85Ye65YyF5ZCr57O757uf5L+h5oGv55qE5a6M5pW06LCD6K+V5pel5b+XPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJleHBvcnRMb2dzKCkiIGNsYXNzPSJidG4gYnRuLW91dGxpbmUtaW5mbyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLWRvd25sb2FkIG1lLTEiPjwvaT7lr7zlh7rml6Xlv5cKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8IS0tIOa4uOaIj+mAieaLqeWMuuWfnyAtLT4KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIG1iLTQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWhlYWRlciBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgICAgIDxzcGFuPjxpIGNsYXNzPSJiaSBiaS1jb250cm9sbGVyIG1lLTIiPjwvaT7muLjmiI/pgInmi6k8L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93IGFsaWduLWl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTYiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJnYW1lU2VsZWN0IiBjbGFzcz0iZm9ybS1sYWJlbCBmdy1ib2xkIj7lvZPliY3muLjmiI86PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iZ2FtZVNlbGVjdCIgY2xhc3M9ImZvcm0tc2VsZWN0IiBvbmNoYW5nZT0ic3dpdGNoR2FtZSh0aGlzLnZhbHVlKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiIGRpc2FibGVkIHNlbGVjdGVkPuWKoOi9veS4rS4uLjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCBtYi00Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1oZWFkZXIgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgICAgICA8c3Bhbj48aSBjbGFzcz0iYmkgYmktcm9ja2V0LXRha2VvZmYgbWUtMiI+PC9pPua4uOaIj+WQr+WKqOWZqDwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtYm9keSBsYXVuY2hlci1jYXJkLWJvZHkiPgogICAgICAgICAgICAgICAgPGRpdiBpZD0ibGF1bmNoZXJNYWluSW1hZ2UiIGNsYXNzPSJsYXVuY2hlci1iZyI+PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3cgZy0zIGFsaWduLWl0ZW1zLWNlbnRlciBsYXVuY2hlci1jb250ZW50Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtMyB0ZXh0LWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgaWQ9ImxhdW5jaGVySWNvbiIgY2xhc3M9ImhpZGRlbiIgYWx0PSJsYXVuY2hlciBpY29uIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtOSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4gZmxleC13cmFwIGdhcC0yIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPSJtYi0xIiBpZD0ibGF1bmNoZXJUaXRsZSI+5Yqg6L295LitLi4uPC9oNT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0ZXh0LW11dGVkIHNtYWxsIiBpZD0ibGF1bmNoZXJTdWJUaXRsZSI+5ZCv5Yqo5Zmo5L+h5oGvPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRleHQtbXV0ZWQgc21hbGwiIGlkPSJsYXVuY2hlckluc3RhbGxQYXRoIj7mnKrlronoo4U8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyBtdC0yIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC02Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+5byA5Y+R5ZWG77yaPHNwYW4gaWQ9ImxhdW5jaGVyRGV2ZWxvcGVyIj4tPC9zcGFuPjwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC02Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+5Y+R6KGM5ZWG77yaPHNwYW4gaWQ9ImxhdW5jaGVyUHVibGlzaGVyIj4tPC9zcGFuPjwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyBtdC0yIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC00Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+5pys5Zyw54mI5pys77yaPHNwYW4gaWQ9ImxhdW5jaGVyTG9jYWxWZXJzaW9uIj4tPC9zcGFuPjwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC00Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+55uu5qCH54mI5pys77yaPHNwYW4gaWQ9ImxhdW5jaGVyVGFyZ2V0VmVyc2lvbiI+LTwvc3Bhbj48L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtNCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPuWQr+WKqOaWh+S7tu+8mjxzcGFuIGlkPSJsYXVuY2hlclN0YXJ0dXBQYXRoIj4tPC9zcGFuPjwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im10LTMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ibGF1bmNoZXJEaXN0cmlidXRpb25TZWxlY3QiIGNsYXNzPSJmb3JtLWxhYmVsIGZ3LWJvbGQiPueJiOacrOmAieaLqTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ibGF1bmNoZXJEaXN0cmlidXRpb25TZWxlY3QiIGNsYXNzPSJmb3JtLXNlbGVjdCIgb25jaGFuZ2U9InVwZGF0ZUxhdW5jaGVyRGlzcGxheSgpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiIGRpc2FibGVkIHNlbGVjdGVkPuWKoOi9veS4rS4uLjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJsYXVuY2hlclN0YXR1c0JhZGdlcyIgY2xhc3M9ImQtZmxleCBmbGV4LXdyYXAgZ2FwLTIgbXQtMyI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJ0bi1ncm91cCB3LTEwMCBtdC0zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImxhdW5jaGVySW5zdGFsbEJ0biIgb25jbGljaz0iaW5zdGFsbExhdW5jaGVyKCkiIGNsYXNzPSJidG4gYnRuLW91dGxpbmUtc3VjY2VzcyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLWRvd25sb2FkIG1lLTEiPjwvaT7ml6fljIXkvZPljYfnuqfliLDmlrDlvJXmk47miJbku47mnKrlronoo4UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ibGF1bmNoZXJVcGRhdGVCdG4iIG9uY2xpY2s9InVwZGF0ZUxhdW5jaGVyKCkiIGNsYXNzPSJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLWFycm93LXJlcGVhdCBtZS0xIj48L2k+5paw5byV5pOO5qOA5p+l5pu05pawCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImxhdW5jaGVySW1wb3J0RmV2ZXJMaXN0QnRuIiBvbmNsaWNrPSJpbXBvcnRGZXZlckxhdW5jaGVyTGlzdCgpIiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLWJveC1hcnJvdy1pbi1kb3duIG1lLTEiPjwvaT7lr7zlhaXlj5Hng6flubPlj7Dlt7LmnInmuLjmiI8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICA8ZGl2IGNsYXNzPSJyb3ciPgogICAgICAgIDwhLS0g55m75b2V5pON5L2cIC0tPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC02Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCBoLTEwMCI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWhlYWRlciBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgICA8c3Bhbj48aSBjbGFzcz0iYmkgYmktYm94LWFycm93LWluLXJpZ2h0IG1lLTIiPjwvaT7otKblj7fnmbvlvZU8L3NwYW4+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi0zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImNoYW5uZWxTZWxlY3QiIGNsYXNzPSJmb3JtLWxhYmVsIj7muKDpgZPpgInmi6k6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImNoYW5uZWxTZWxlY3QiIGNsYXNzPSJmb3JtLXNlbGVjdCBtZS0yIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT0id2lkdGg6IDgwJTsgZmxleDogMCAwIGF1dG87Ij48L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9Im1hbnVhbCgpIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLXBlcnNvbi1wbHVzIG1lLTEiPjwvaT7miYvliqjnmbvlvZUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibWItMSI+5b2T5YmN6Ieq5Yqo55m75b2V6LSm5Y+377yaPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBpZD0iZGVmYXVsdCIgY2xhc3M9ImJhZGdlIGJnLWluZm8gdGV4dC13aGl0ZSBwLTIiPkVtcHR5PC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJjbGVhckRlZmF1bHQoKSIgY2xhc3M9ImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgbXMtMiBidG4tc20iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmkteC1jaXJjbGUgbWUtMSI+PC9pPua4hemZpOiHquWKqOeZu+W9lQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIOa3u+WKoOeZu+W9leW7tui/n+iuvue9riAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibXQtMyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9InNlY3Rpb24tdGl0bGUiPuiHquWKqOeZu+W9leW7tui/n+iuvue9rjwvaDU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ibG9naW5EZWxheUlucHV0IiBzdHlsZT0id2lkdGg6IDgwJTsgZmxleDogMCAwIGF1dG87IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz0iZm9ybS1jb250cm9sIG1lLTIiIG1pbj0iMCIgbWF4PSIzMCIgcGxhY2Vob2xkZXI9IuW7tui/n+enkuaVsCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJzYXZlTG9naW5EZWxheSgpIiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktc2F2ZSBtZS0xIj48L2k+5L+d5a2YCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz0iZm9ybS10ZXh0IHRleHQtbXV0ZWQgbXQtMSI+5LqM57u056CB5pi+56S65ZCOPHNwYW4gaWQ9ImN1cnJlbnREZWxheSI+5Yqg6L295LitLi4uPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOenkuS8muiHquWKqOeZu+W9lem7mOiupOi0puWPt+OAgjwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPCEtLSDns7vnu5/orr7nva4gLS0+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC02Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgaC0xMDAiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtaGVhZGVyIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48aSBjbGFzcz0iYmkgYmktZ2VhciBtZS0yIj48L2k+6Ieq5Yqo5ZCv5YqoL+WFs+mXreiuvue9rjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJhdXRvQ2xvc2VCdG4iIG9uY2xpY2s9InN3aXRjaEF1dG9DbG9zZSgpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9ImJ0biBidG4tb3V0bGluZS1wcmltYXJ5IG1iLTMgdy0xMDAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLXBvd2VyIG1lLTEiPjwvaT7nmbvlvZXlkI7oh6rliqjlhbPpl63lt6XlhbfvvJrliqDovb3kuK0uLi4KICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtdC0zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz0ic2VjdGlvbi10aXRsZSI+5ri45oiP6Ieq5Yqo5ZCv5Yqo6K6+572uPC9oNT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgbWItMiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+54q25oCB77yaPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJtcy0yIGJhZGdlIiBpZD0iYXV0b1N0YXJ0U3RhdHVzIj7liqDovb3kuK0uLi48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1zLTMiPui3r+W+hO+8mjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGwgaWQ9ImF1dG9TdGFydFBhdGgiIGNsYXNzPSJ0ZXh0LW11dGVkIG1zLTIgdGV4dC10cnVuY2F0ZSI+5pyq6K6+572uPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnRuLWdyb3VwIHctMTAwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJzZXRBdXRvU3RhcnRCdG4iIG9uY2xpY2s9InNldEF1dG9TdGFydCh0cnVlKSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9ImJ0biBidG4tb3V0bGluZS1zdWNjZXNzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLXBsdXMtY2lyY2xlIG1lLTEiPjwvaT7orr7nva7muLjmiI/ot6/lvoQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJkaXNhYmxlQXV0b1N0YXJ0QnRuIiBvbmNsaWNrPSJzZXRBdXRvU3RhcnQoZmFsc2UpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lLWRhbmdlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJiaSBiaS1kYXNoLWNpcmNsZSBtZS0xIj48L2k+56aB55So6Ieq5ZCvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ic3RhcnRHYW1lQnRuIiBvbmNsaWNrPSJzdGFydEdhbWUoKSIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJiaSBiaS1wbGF5LWZpbGwgbWUtMSI+PC9pPueri+WNs+WQr+WKqOa4uOaIjwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIG10LTQiIGlkPSJjbG91ZFN5bmNDYXJkIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1oZWFkZXIgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgICAgICA8c3Bhbj48aSBjbGFzcz0iYmkgYmktY2xvdWQtYXJyb3ctdXAgbWUtMiI+PC9pPua4oOmBk+acjei0puWPt+S6keWQjOatpTwvc3Bhbj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJ0bi1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1zZWNvbmRhcnkiIGlkPSJjbG91ZFN5bmNUb2dnbGVCdG4iIG9uY2xpY2s9InRvZ2dsZUNsb3VkU3luY1BhbmVsKCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktY2hldnJvbi1yaWdodCBtZS0xIj48L2k+5bGV5byACiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1wcmltYXJ5IiBvbmNsaWNrPSJzaG93Q2xvdWRTeW5jV2l6YXJkKCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktbWFnaWMgbWUtMSI+PC9pPumFjee9ruWQkeWvvAogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiIGlkPSJjbG91ZFN5bmNDYXJkQm9keSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93IGctMyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTgiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPuS4u+WvhumSpTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0iY2xvdWRTeW5jTWFzdGVyS2V5IiB0eXBlPSJwYXNzd29yZCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9IuW7uuiurjE25L2N5Lul5LiK77yM5YyF5ZCr5aSn5bCP5YaZL+aVsOWtly/nrKblj7ciPgogICAgICAgICAgICAgICAgICAgICAgICA8c21hbGwgaWQ9ImNsb3VkU3luY0tleVN0cmVuZ3RoIiBjbGFzcz0idGV4dC1tdXRlZCI+5by65bqm77ya5pyq5qOA5rWLPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyBnLTMgbXQtMSI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTMiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPuiusOS9j+Wvhueggee6p+WIqzwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImNsb3VkU3luY1JlbWVtYmVyTGV2ZWwiIGNsYXNzPSJmb3JtLXNlbGVjdCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJub25lIj7kuI3orrDkvY/kuLvlr4bpkqU8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im1hc3Rlcl9rZXkiPuiusOS9j+S4u+WvhumSpTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtMyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+5ZCM5q2l5pa55ZCRPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iY2xvdWRTeW5jRGlyZWN0aW9uIiBjbGFzcz0iZm9ybS1zZWxlY3QiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0icHVzaCI+5Y2V5ZCR5LiK5Lyg77yI5pys5Zyw4oaS5LqR56uv77yJPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJwdWxsIj7ljZXlkJHkuIvovb3vvIjkupHnq6/ihpLmnKzlnLDvvIk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImJpZGlyZWN0aW9uYWwiPuWPjOWQkeWQjOatpTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtMyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+6LSm5Y+36IyD5Zu0PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iY2xvdWRTeW5jU2NvcGVUeXBlIiBjbGFzcz0iZm9ybS1zZWxlY3QiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYWxsIj7lhajpg6jotKblj7c8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImN1cnJlbnRfZ2FtZSI+5b2T5YmN5ri45oiPPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJzZWxlY3RlZCI+5LuF5Yu+6YCJ6LSm5Y+3PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC0zIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7kupHnq6/ov4fmnJ/ml7bpl7Q8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJjbG91ZFN5bmNFeHBpcmVBdCIgY2xhc3M9ImZvcm0tc2VsZWN0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjM2MDAiPjHlsI/ml7Y8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjIxNjAwIj425bCP5pe2PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSI4NjQwMCI+MeWkqTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMjU5MjAwIiBzZWxlY3RlZD4z5aSpICjpu5jorqQpPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSI2MDQ4MDAiPjHlkag8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjI1OTIwMDAiPjHkuKrmnIg8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Ijc3NzYwMDAiPjPkuKrmnIg8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjE1NTUyMDAwIj7ljYrlubQ8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjMxNTM2MDAwIj4x5bm0PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSI2MzA3MjAwMCI+MuW5tDwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iOTQ2MDgwMDAiPjPlubQ8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIgbXQtMyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic21hbGwgdGV4dC1tdXRlZCIgaWQ9ImNsb3VkU3luY1BvbGljeVN0YXRlVGV4dCI+CiAgICAgICAgICAgICAgICAgICAgICAgIOiuuOWPr+eKtuaAge+8muacquWQjOaEj++8iOivt+WFiOWujOaIkOmFjee9ruWQkeWvvOesrOS4gOatpe+8iQogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tY2hlY2sgZm9ybS1zd2l0Y2giPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9ImZvcm0tY2hlY2staW5wdXQiIHR5cGU9ImNoZWNrYm94IiBpZD0iY2xvdWRTeW5jQXV0b1N5bmMiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tY2hlY2stbGFiZWwiIGZvcj0iY2xvdWRTeW5jQXV0b1N5bmMiPuiHquWKqOWQjOatpTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJ0bi1ncm91cCB3LTEwMCBtdC0zIj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSIgb25jbGljaz0ic2F2ZUNsb3VkU3luY1NldHRpbmdzKCkiPjxpIGNsYXNzPSJiaSBiaS1zYXZlIG1lLTEiPjwvaT7kv53lrZjlkIzmraXorr7nva48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLW91dGxpbmUtc3VjY2VzcyIgb25jbGljaz0icnVuQ2xvdWRTeW5jKCdwdXNoJykiPjxpIGNsYXNzPSJiaSBiaS11cGxvYWQgbWUtMSI+PC9pPuaJi+WKqOS4iuS8oDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tb3V0bGluZS1pbmZvIiBvbmNsaWNrPSJydW5DbG91ZFN5bmMoJ3B1bGwnKSI+PGkgY2xhc3M9ImJpIGJpLWRvd25sb2FkIG1lLTEiPjwvaT7miYvliqjkuIvovb08L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IiBvbmNsaWNrPSJydW5DbG91ZFN5bmMoJ3N5bmMnKSI+PGkgY2xhc3M9ImJpIGJpLWFycm93LWxlZnQtcmlnaHQgbWUtMSI+PC9pPuaMieaWueWQkeaJp+ihjOWQjOatpTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJidG4tZ3JvdXAgdy0xMDAgbXQtMiI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lLWRhcmsiIG9uY2xpY2s9InZpZXdDbG91ZFN5bmNMb2dzKCkiPjxpIGNsYXNzPSJiaSBiaS1jbG9jay1oaXN0b3J5IG1lLTEiPjwvaT7orr/pl67ml6Xlv5c8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLW91dGxpbmUtZGFuZ2VyIiBvbmNsaWNrPSJkZWxldGVDbG91ZFN5bmMoKSI+PGkgY2xhc3M9ImJpIGJpLXRyYXNoIG1lLTEiPjwvaT7liKDpmaTkupHnq6/lkIzmraU8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPCEtLSDotKblj7fliJfooaggLS0+CiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCBtdC00Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1oZWFkZXIgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgICAgICA8c3Bhbj48aSBjbGFzcz0iYmkgYmktbGlzdC11bCBtZS0yIj48L2k+6LSm5Y+35YiX6KGoPC9zcGFuPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnRuLWdyb3VwIiBpZD0iYmF0Y2hPcGVyYXRpb25zR3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0iYmF0Y2hEZWxldGUoKSIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIGJ0bi1zbSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJiaSBiaS10cmFzaCBtZS0xIj48L2k+5om56YeP5Yig6ZmkCiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtYm9keSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWJsZS1yZXNwb25zaXZlIj4KICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9InRhYmxlIHRhYmxlLXN0cmlwZWQgdGFibGUtaG92ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQgY2xhc3M9InRhYmxlLWxpZ2h0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9ImNvbCIgd2lkdGg9IjUlIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzZWxlY3RBbGwiPjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPSJjb2wiIHdpZHRoPSIyMCUiPlVVSUQ8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT0iY29sIiB3aWR0aD0iMjAlIj7lkI3np7A8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT0iY29sIiB3aWR0aD0iMjUlIj7kuIrmrKHnmbvlvZU8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT0iY29sIiB3aWR0aD0iMzAlIj7mk43kvZw8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5IGlkPSJjaGFubmVsVGFibGVCb2R5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g6LSm5Y+36K6w5b2V5bCG5Zyo6L+Z6YeM5pi+56S6IC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9Im5vQWNjb3VudHMiIGNsYXNzPSJhbGVydCBhbGVydC1zZWNvbmRhcnkgdGV4dC1jZW50ZXIiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktaW5mby1jaXJjbGUgbWUtMiI+PC9pPiDmmoLml6DotKblj7forrDlvZXvvIzor7fpgJrov4fmiYvliqjnmbvlvZXmiJbnlKjmuLjmiI/lrqLmiLfnq6/miavnoIHmt7vliqDotKblj7cKICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGZvb3RlciBjbGFzcz0ibXQtNCB0ZXh0LWNlbnRlciB0ZXh0LW11dGVkIj4KICAgICAgICAgICAgPHAgY2xhc3M9InNtYWxsIj5JRFYtTE9HSU7muKDpgZPmnI3otKblj7fnrqHnkIbnlYzpnaIgJmNvcHk7IDIwMjU8L3A+CiAgICAgICAgICAgIDxwIGNsYXNzPSJzbWFsbCI+CiAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL3d3dy55dXF1ZS5jb20va2V5Z2VuL2tnMnI1ay9penBncGY0ZzNlY3FzYmYzIiB0YXJnZXQ9Il9ibGFuayIKICAgICAgICAgICAgICAgICAgICBjbGFzcz0idGV4dC1kZWNvcmF0aW9uLW5vbmUiPuWumOaWueaVmeeoizwvYT4KICAgICAgICAgICAgPC9wPgogICAgICAgICAgICA8cCBjbGFzcz0ic21hbGwiPgogICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cueXVxdWUuY29tL2tleWdlbi9rZzJyNWsveGw5em9zcnd2aXljNTRudSIgdGFyZ2V0PSJfYmxhbmsiCiAgICAgICAgICAgICAgICAgICAgY2xhc3M9InRleHQtZGVjb3JhdGlvbi1ub25lIj7lh7rnjrDpl67popjvvJ88L2E+CiAgICAgICAgICAgIDwvcD4KCiAgICAgICAgPC9mb290ZXI+CiAgICA8L2Rpdj4KCgogICAgPHNjcmlwdD4KICAgICAgICBmdW5jdGlvbiBjbXBHYW1lSWQoZ2FtZV9pZF9hLCBnYW1lX2lkX2IpIHsKICAgICAgICAgICAgaWYgKGdhbWVfaWRfYSA9PT0gIiIgfHwgZ2FtZV9pZF9iID09PSAiIikgewogICAgICAgICAgICAgICAgcmV0dXJuIGdhbWVfaWRfYSA9PT0gZ2FtZV9pZF9iOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IHNob3J0X2EgPSBnYW1lX2lkX2Euc3BsaXQoIi0iKS5wb3AoKTsKICAgICAgICAgICAgY29uc3Qgc2hvcnRfYiA9IGdhbWVfaWRfYi5zcGxpdCgiLSIpLnBvcCgpOwogICAgICAgICAgICByZXR1cm4gc2hvcnRfYSA9PT0gc2hvcnRfYjsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHRpbWVTdGFtcFRvTG9jYWxUaW1lKHRpbWVzdGFtcCkgewogICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wICogMTAwMCkudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICB9OwogICAgICAgIGZ1bmN0aW9uIHJlbmFtZUNoYW5uZWwodXVpZCkgewogICAgICAgICAgICB2YXIgbmV3TmFtZSA9IHByb21wdCgi6K+36L6T5YWl5paw55qE6LSm5Y+35ZCN56ewIik7CiAgICAgICAgICAgIGlmIChuZXdOYW1lKSB7CiAgICAgICAgICAgICAgICBmZXRjaChgL19pZHYtbG9naW4vcmVuYW1lP3V1aWQ9JHt1dWlkfSZuZXdfbmFtZT0ke25ld05hbWV9YCkKICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoJ+i0puWPt+W3suaIkOWKn+aUueWQjScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2FsKCfmlLnlkI3lpLHotKUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkZWxldGVDaGFubmVsKHV1aWQpIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogIuehruWumuimgeWIoOmZpOi/meS4qui0puWPt+WQl++8nyIsCiAgICAgICAgICAgICAgICB0ZXh0OiAi5Yig6Zmk5ZCO5bCG5peg5rOV5oGi5aSN5q2k6LSm5Y+35L+h5oGvIiwKICAgICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFsi5Y+W5raIIiwgIuehruWumuWIoOmZpCJdLAogICAgICAgICAgICAgICAgZGFuZ2VyTW9kZTogdHJ1ZSwKICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKCh3aWxsRGVsZXRlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbGxEZWxldGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2goYC9faWR2LWxvZ2luL2RlbD91dWlkPSR7dXVpZH1gKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2FsKCfotKblj7flt7LmiJDlip/liKDpmaQnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2FsKCfliKDpmaTlpLHotKUnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGJhdGNoRGVsZXRlKCkgewogICAgICAgICAgICAvLyDojrflj5bmiYDmnInpgInkuK3nmoTotKblj7cKICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRBY2NvdW50cyA9IFtdOwogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3VudC1jaGVja2JveDpjaGVja2VkJykuZm9yRWFjaChjaGVja2JveCA9PiB7CiAgICAgICAgICAgICAgICBzZWxlY3RlZEFjY291bnRzLnB1c2goY2hlY2tib3gudmFsdWUpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChzZWxlY3RlZEFjY291bnRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLmnKrpgInmi6notKblj7ciLAogICAgICAgICAgICAgICAgICAgIHRleHQ6ICLor7flhYjpgInmi6nopoHliKDpmaTnmoTotKblj7ciLAogICAgICAgICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgICAgICBidXR0b246ICLnoa7lrpoiLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6ICLmibnph4/liKDpmaTnoa7orqQiLAogICAgICAgICAgICAgICAgdGV4dDogYOehruWumuimgeWIoOmZpOmAieS4reeahCAke3NlbGVjdGVkQWNjb3VudHMubGVuZ3RofSDkuKrotKblj7flkJfvvJ/mraTmk43kvZzkuI3lj6/mkqTplIDjgIJgLAogICAgICAgICAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgICAgICAgICAgYnV0dG9uczogWyLlj5bmtogiLCAi56Gu5a6a5Yig6ZmkIl0sCiAgICAgICAgICAgICAgICBkYW5nZXJNb2RlOiB0cnVlLAogICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRoZW4oKHdpbGxEZWxldGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAod2lsbERlbGV0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDmmL7npLrliqDovb3kuK3mj5DnpLoKICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuWIoOmZpOS4rS4uLiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAi5q2j5Zyo5om56YeP5Yig6Zmk6LSm5Y+3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJpbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VPbkNsaWNrT3V0c2lkZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Yib5bu65LiA5LiqUHJvbWlzZeaVsOe7hOadpei3n+i4quaJgOacieWIoOmZpOivt+axggogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWxldGVQcm9taXNlcyA9IHNlbGVjdGVkQWNjb3VudHMubWFwKHV1aWQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKGAvX2lkdi1sb2dpbi9kZWw/dXVpZD0ke3V1aWR9YCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiAoeyB1dWlkLCBzdWNjZXNzOiBkYXRhLnN1Y2Nlc3MgfSkpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOetieW+heaJgOacieWIoOmZpOivt+axguWujOaIkAogICAgICAgICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChkZWxldGVQcm9taXNlcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3VsdHMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSByZXN1bHRzLmZpbHRlcihyID0+IHIuc3VjY2VzcykubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhaWxlZCA9IHJlc3VsdHMubGVuZ3RoIC0gc3VjY2Vzc2Z1bDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5om56YeP5Yig6Zmk5a6M5oiQIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogYOaIkOWKn+WIoOmZpCAke3N1Y2Nlc3NmdWx9IOS4qui0puWPtyR7ZmFpbGVkID4gMCA/IGDvvIwke2ZhaWxlZH0g5Liq6LSm5Y+35Yig6Zmk5aSx6LSlYCA6ICcnfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IHN1Y2Nlc3NmdWwgPiAwID8gInN1Y2Nlc3MiIDogIndhcm5pbmciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b246ICLnoa7lrpoiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc3dpdGNoQ2hhbm5lbCh1dWlkKSB7CiAgICAgICAgICAgIGdhbWVfaWQgPSBnZXRRdWVyeVZhcmlhYmxlKCJnYW1lX2lkIik7CiAgICAgICAgICAgIGZldGNoKGAvX2lkdi1sb2dpbi9zd2l0Y2g/dXVpZD0ke3V1aWR9JmdhbWVfaWQ9JHtnYW1lX2lkfWApCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jdXJyZW50ID09IHV1aWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuaooeaLn+eZu+W9leaIkOWKnyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b246ICLnoa7lrpoiLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIueZu+W9leWksei0pSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGRlZmF1bHRDaGFubmVsKHV1aWQpIHsKICAgICAgICAgICAgZ2FtZV9pZCA9IGdldFF1ZXJ5VmFyaWFibGUoImdhbWVfaWQiKTsKICAgICAgICAgICAgZmV0Y2goYC9faWR2LWxvZ2luL3NldERlZmF1bHQ/dXVpZD0ke3V1aWR9JmdhbWVfaWQ9JHtnYW1lX2lkfWApCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLorr7nva7pu5jorqTotKblj7fmiJDlip8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLorr7nva7lpLHotKUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY2xlYXJEZWZhdWx0KCkgewogICAgICAgICAgICBnYW1lX2lkID0gZ2V0UXVlcnlWYXJpYWJsZSgiZ2FtZV9pZCIpOwogICAgICAgICAgICBmZXRjaChgL19pZHYtbG9naW4vY2xlYXJEZWZhdWx0P2dhbWVfaWQ9JHtnYW1lX2lkfWApCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLmuIXpmaTpu5jorqTotKblj7fmiJDlip8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLmuIXpmaTlpLHotKUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8g55m75b2V5bu26L+f55u45YWz5Ye95pWwCiAgICAgICAgZnVuY3Rpb24gbG9hZExvZ2luRGVsYXkoKSB7CiAgICAgICAgICAgIGNvbnN0IGdhbWVfaWQgPSBnZXRRdWVyeVZhcmlhYmxlKCJnYW1lX2lkIik7CiAgICAgICAgICAgIGlmICghZ2FtZV9pZCkgcmV0dXJuOwoKICAgICAgICAgICAgZmV0Y2goYC9faWR2LWxvZ2luL2dldC1sb2dpbi1kZWxheT9nYW1lX2lkPSR7Z2FtZV9pZH1gKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbnREZWxheScpLnRleHRDb250ZW50ID0gZGF0YS5kZWxheTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5EZWxheUlucHV0JykudmFsdWUgPSBkYXRhLmRlbGF5OwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPlueZu+W9leW7tui/n+Wksei0pTonLCBlcnIpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50RGVsYXknKS50ZXh0Q29udGVudCA9ICfojrflj5blpLHotKUnOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzYXZlTG9naW5EZWxheSgpIHsKICAgICAgICAgICAgY29uc3QgZ2FtZV9pZCA9IGdldFF1ZXJ5VmFyaWFibGUoImdhbWVfaWQiKTsKICAgICAgICAgICAgY29uc3QgZGVsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5EZWxheUlucHV0JykudmFsdWU7CgogICAgICAgICAgICBpZiAoIWdhbWVfaWQpIHsKICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi6ZSZ6K+vIiwKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAi5pyq5om+5Yiw5ri45oiPSUQiLAogICAgICAgICAgICAgICAgICAgIGljb246ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZGVsYXkgPT09ICIiIHx8IGlzTmFOKGRlbGF5KSB8fCBkZWxheSA8IDApIHsKICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi6L6T5YWl6ZSZ6K+vIiwKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAi6K+36L6T5YWl5pyJ5pWI55qE5bu26L+f5pe26Ze077yI56eS77yJIiwKICAgICAgICAgICAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmZXRjaChgL19pZHYtbG9naW4vc2V0LWxvZ2luLWRlbGF5P2dhbWVfaWQ9JHtnYW1lX2lkfSZkZWxheT0ke2RlbGF5fWApCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLorr7nva7miJDlip8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogYOeZu+W9leW7tui/n+W3suiuvue9ruS4uiAke2RlbGF5fSDnp5JgLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50RGVsYXknKS50ZXh0Q29udGVudCA9IGRlbGF5OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLorr7nva7lpLHotKUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZGF0YS5lcnJvciB8fCAi5pyq55+l6ZSZ6K+vIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b246ICLnoa7lrpoiLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi6K+35rGC5aSx6LSlIiwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogIuS/neWtmOW7tui/n+iuvue9ruaXtuWPkeeUn+mUmeivryIsCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFF1ZXJ5VmFyaWFibGUodmFyaWFibGUpIHsKICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSk7CiAgICAgICAgICAgIHZhciB2YXJzID0gcXVlcnkuc3BsaXQoIiYiKTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoIj0iKTsKICAgICAgICAgICAgICAgIGlmIChwYWlyWzBdID09IHZhcmlhYmxlKSB7IHJldHVybiBwYWlyWzFdOyB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICgiIik7CiAgICAgICAgfQoKICAgICAgICAvLyDmuLjmiI/liIfmjaLlh73mlbAKICAgICAgICBmdW5jdGlvbiBzd2l0Y2hHYW1lKGdhbWVJZCkgewogICAgICAgICAgICBpZiAoZ2FtZUlkKSB7CiAgICAgICAgICAgICAgICAvLyDmmL7npLrliqDovb3kuK3mj5DnpLoKICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5YiH5o2i5ri45oiP5LitLi4uIiwKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAi5q2j5Zyo5Yqg6L295ri45oiP5pWw5o2uIiwKICAgICAgICAgICAgICAgICAgICBpY29uOiAiaW5mbyIsCiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgY2xvc2VPbkNsaWNrT3V0c2lkZTogZmFsc2UsCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvLyDph43lrprlkJHliLDnm7jlkIznmoRVUkzvvIzkvYbmlLnlj5hnYW1lX2lk5p+l6K+i5Y+C5pWwCiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7CiAgICAgICAgICAgICAgICBjdXJyZW50VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2dhbWVfaWQnLCBnYW1lSWQpOwogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBjdXJyZW50VXJsLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIOWKoOi9vea4uOaIj+WIl+ihqAogICAgICAgIGZ1bmN0aW9uIGxvYWRHYW1lTGlzdCgpIHsKICAgICAgICAgICAgZmV0Y2goJy9faWR2LWxvZ2luL2xpc3QtZ2FtZXMnKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnYW1lU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWVTZWxlY3QnKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5riF56m6546w5pyJ6YCJ6aG5CiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTZWxlY3QuaW5uZXJIVE1MID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyDojrflj5blvZPliY3pgInkuK3nmoTmuLjmiI9JRAogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50R2FtZUlkID0gZ2V0UXVlcnlWYXJpYWJsZSgiZ2FtZV9pZCIpOwogICAgICAgICAgICAgICAgICAgICAgICAvL+WmguaenOW9k+WJjemAieS4rWlk5Li656m677yM6L+c56uv6L+U5Zue55qE5ri45oiP5YiX6KGo5Lmf5Li656m677yM5YiZ6YCa6L+HbG9jYWxzdG9yYWdlIOS4gOasoeaAp+WcsOeUqHN3YWzor6Lpl67nlKjmiLfmmK/lkKbopoHot7PovazliLBodHRwczovL2xvY2FsaG9zdC9faWR2LWxvZ2luL2luZGV4P2dhbWVfaWQ9YWVjZnJ0M3JtYWFhYWFqbC1nLWg1NQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNfYXNrX2Zvcl9qdW1wXzIwMjYwMjA1ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hhc19hc2tfZm9yX2p1bXBfMjAyNjAyMDUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50R2FtZUlkICYmIGRhdGEuZ2FtZXMubGVuZ3RoID09PSAwICYmICFoYXNfYXNrX2Zvcl9qdW1wXzIwMjYwMjA1KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIua4uOaIj0lE5Li656m6IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAi5oKo5piv5ZCm6KaB5YmN5b6A5a6J6KOF56ys5LqU5Lq65qC85paw5byV5pOO77yfIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAiaW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogWyLlj5bmtogiLCAi6Lez6L2sIl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCh3aWxsSnVtcCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWxsSnVtcCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaGFzX2Fza19mb3JfanVtcF8yMDI2MDIwNScsICd0cnVlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2h0dHBzOi8vbG9jYWxob3N0L19pZHYtbG9naW4vaW5kZXg/Z2FtZV9pZD1hZWNmcnQzcm1hYWFhYWpsLWctaDU1JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvLyDmt7vliqDmuLjmiI/pgInpobkKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5nYW1lcy5mb3JFYWNoKGdhbWUgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSBnYW1lLmdhbWVfaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udGV4dCA9IGdhbWUubmFtZSB8fCBnYW1lLmdhbWVfaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBjbXBHYW1lSWQoZ2FtZS5nYW1lX2lkLCBjdXJyZW50R2FtZUlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzmsqHmnInlvZPliY3muLjmiI9JROaIluWIl+ihqOS4reayoeacieatpOa4uOaIjwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRHYW1lSWQgJiYgZGF0YS5nYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hHYW1lKGRhdGEuZ2FtZXNbMF0uZ2FtZV9pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzlvZPliY3mnIlpZOS9huaYr+WIl+ihqOS4reayoeacie+8jOWxleekuuW9k+WJjWlkCiAgICAgICAgICAgICAgICAgICAgICAgIGhhc19tYXRjaCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuZ2FtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbXBHYW1lSWQoZGF0YS5nYW1lc1tpXS5nYW1lX2lkLCBjdXJyZW50R2FtZUlkKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc19tYXRjaCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNfbWF0Y2gpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gY3VycmVudEdhbWVJZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi50ZXh0ID0gY3VycmVudEdhbWVJZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bmuLjmiI/liJfooajlpLHotKUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWVTZWxlY3QnKS5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT0iIj7liqDovb3lpLHotKU8L29wdGlvbj4nOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8g6Ieq5Yqo5ZCv5Yqo55u45YWz5Ye95pWwCiAgICAgICAgZnVuY3Rpb24gbG9hZEF1dG9TdGFydFNldHRpbmdzKCkgewogICAgICAgICAgICBjb25zdCBnYW1lX2lkID0gZ2V0UXVlcnlWYXJpYWJsZSgiZ2FtZV9pZCIpOwogICAgICAgICAgICBmZXRjaChgL19pZHYtbG9naW4vZ2V0LWdhbWUtYXV0by1zdGFydD9nYW1lX2lkPSR7Z2FtZV9pZH1gKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVBdXRvU3RhcnRVSShkYXRhLmVuYWJsZWQsIGRhdGEucGF0aCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuiOt+WPluiHquWKqOWQr+WKqOiuvue9ruWksei0pSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB1cGRhdGVBdXRvU3RhcnRVSShlbmFibGVkLCBwYXRoKSB7CiAgICAgICAgICAgIGNvbnN0IHN0YXR1c0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0b1N0YXJ0U3RhdHVzJyk7CiAgICAgICAgICAgIGNvbnN0IHBhdGhFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9TdGFydFBhdGgnKTsKICAgICAgICAgICAgY29uc3Qgc2V0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldEF1dG9TdGFydEJ0bicpOwogICAgICAgICAgICBjb25zdCBkaXNhYmxlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc2FibGVBdXRvU3RhcnRCdG4nKTsKICAgICAgICAgICAgY29uc3Qgc3RhcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRHYW1lQnRuJyk7CgogICAgICAgICAgICBzdGF0dXNFbGVtZW50LnRleHRDb250ZW50ID0gZW5hYmxlZCA/ICflt7LlkK/nlKgnIDogJ+W3suemgeeUqCc7CiAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQuY2xhc3NOYW1lID0gZW5hYmxlZCA/ICdtcy0yIGJhZGdlIGJnLXN1Y2Nlc3MnIDogJ21zLTIgYmFkZ2UgYmctc2Vjb25kYXJ5JzsKCiAgICAgICAgICAgIGlmIChwYXRoKSB7CiAgICAgICAgICAgICAgICBwYXRoRWxlbWVudC50ZXh0Q29udGVudCA9IHBhdGg7CiAgICAgICAgICAgICAgICBwYXRoRWxlbWVudC50aXRsZSA9IHBhdGg7IC8vIOa3u+WKoOWujOaVtOi3r+W+hOS9nOS4uuaPkOekugogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcGF0aEVsZW1lbnQudGV4dENvbnRlbnQgPSAn5pyq6K6+572uJzsKICAgICAgICAgICAgICAgIHBhdGhFbGVtZW50LnRpdGxlID0gJyc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNldEJ0bi5kaXNhYmxlZCA9IGVuYWJsZWQ7CiAgICAgICAgICAgIGRpc2FibGVCdG4uZGlzYWJsZWQgPSAhZW5hYmxlZDsKICAgICAgICAgICAgc3RhcnRCdG4uZGlzYWJsZWQgPSAgIXBhdGg7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzZXRBdXRvU3RhcnQoZW5hYmxlZCkgewogICAgICAgICAgICBjb25zdCBnYW1lX2lkID0gZ2V0UXVlcnlWYXJpYWJsZSgiZ2FtZV9pZCIpOwogICAgICAgICAgICBmZXRjaChgL19pZHYtbG9naW4vc2V0LWdhbWUtYXV0by1zdGFydD9nYW1lX2lkPSR7Z2FtZV9pZH0mZW5hYmxlZD0ke2VuYWJsZWR9YCkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQXV0b1N0YXJ0VUkoZGF0YS5lbmFibGVkLCBkYXRhLnBhdGgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5hYmxlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucGF0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuiuvue9ruaIkOWKnyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICLlt7LmiJDlip/orr7nva7muLjmiI/oh6rliqjlkK/liqgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuiuvue9ruW3suWPlua2iCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICLlj5bmtojkuobmuLjmiI/ot6/lvoTpgInmi6nvvIzmnKrlkK/nlKjoh6rliqjlkK/liqgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAiaW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuW3suemgeeUqCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogIuW3suemgeeUqOa4uOaIj+iHquWKqOWQr+WKqOWKn+iDvSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogImluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLorr7nva7lpLHotKUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZGF0YS5lcnJvciB8fCAn5pyq55+l6ZSZ6K+vJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b246ICLnoa7lrpoiLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHN0YXJ0R2FtZSgpIHsKICAgICAgICAgICAgY29uc3QgZ2FtZV9pZCA9IGdldFF1ZXJ5VmFyaWFibGUoImdhbWVfaWQiKTsKCiAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6ICLmraPlnKjlkK/liqjmuLjmiI8iLAogICAgICAgICAgICAgICAgdGV4dDogIuivt+eojeWAmS4uLiIsCiAgICAgICAgICAgICAgICBpY29uOiAiaW5mbyIsCiAgICAgICAgICAgICAgICBidXR0b25zOiBmYWxzZSwKICAgICAgICAgICAgICAgIGNsb3NlT25DbGlja091dHNpZGU6IGZhbHNlLAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGZldGNoKGAvX2lkdi1sb2dpbi9zdGFydC1nYW1lP2dhbWVfaWQ9JHtnYW1lX2lkfWApCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBzd2FsLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5ri45oiP5ZCv5Yqo5LitIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICLlpoLmnpzmuLjmiI/msqHmnInoh6rliqjlkK/liqjvvIzor7fmo4Dmn6XmuLjmiI/ot6/lvoTmmK/lkKbmraPnoa4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuWQr+WKqOWksei0pSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhLmVycm9yIHx8ICfmnKrnn6XplJnor68nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgbGV0IGxhdW5jaGVyU3RhdGUgPSBudWxsOwogICAgICAgIGxldCB1cGRhdGVSZXF1aXJlZCA9IGZhbHNlOwoKICAgICAgICBmdW5jdGlvbiBmb3JtYXRTaXplKGJ5dGVzKSB7CiAgICAgICAgICAgIGlmIChieXRlcyA9PT0gbnVsbCB8fCBieXRlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJy0nOwogICAgICAgICAgICBjb25zdCB2YWx1ZSA9IE51bWJlcihieXRlcyk7CiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHZhbHVlKSkgcmV0dXJuICctJzsKICAgICAgICAgICAgaWYgKHZhbHVlIDw9IDApIHJldHVybiAnMCBCJzsKICAgICAgICAgICAgY29uc3QgdW5pdHMgPSBbJ0InLCAnS0InLCAnTUInLCAnR0InLCAnVEInXTsKICAgICAgICAgICAgbGV0IHNpemUgPSB2YWx1ZTsKICAgICAgICAgICAgbGV0IGlkeCA9IDA7CiAgICAgICAgICAgIHdoaWxlIChzaXplID49IDEwMjQgJiYgaWR4IDwgdW5pdHMubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgc2l6ZSAvPSAxMDI0OwogICAgICAgICAgICAgICAgaWR4ICs9IDE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGAke3NpemUudG9GaXhlZChzaXplID49IDEwIHx8IGlkeCA9PT0gMCA/IDAgOiAyKX0gJHt1bml0c1tpZHhdfWA7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBtYXJrVXBkYXRlUmVxdWlyZWQoKSB7CiAgICAgICAgICAgIHVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTsKICAgICAgICAgICAgY29uc3Qgc3RhdHVzTGlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzTGlnaHQnKTsKICAgICAgICAgICAgY29uc3Qgc3RhdHVzVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXNUZXh0Jyk7CiAgICAgICAgICAgIGNvbnN0IHN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXNJbmRpY2F0b3InKTsKICAgICAgICAgICAgaWYgKHN0YXR1c0xpZ2h0KSBzdGF0dXNMaWdodC5jbGFzc05hbWUgPSAnc3RhdHVzLWxpZ2h0IHdhcm5pbmcnOwogICAgICAgICAgICBpZiAoc3RhdHVzVGV4dCkgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9ICfor7fmm7TmlrDlt6XlhbcnOwogICAgICAgICAgICBpZiAoc3RhdHVzSW5kaWNhdG9yKSBzdGF0dXNJbmRpY2F0b3IudGl0bGUgPSAn5bel5YW354mI5pys6L+H5pen77yM6K+35pu05pawJzsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGZldGNoTGF1bmNoZXJKc29uKHVybCwgb3B0aW9ucykgewogICAgICAgICAgICByZXR1cm4gZmV0Y2godXJsLCBvcHRpb25zKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkgewogICAgICAgICAgICAgICAgICAgIG1hcmtVcGRhdGVSZXF1aXJlZCgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcignbm90X2ZvdW5kJyk7CiAgICAgICAgICAgICAgICAgICAgZXJyLmlzTm90Rm91bmQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbG9hZExhdW5jaGVyU3RhdHVzKCkgewogICAgICAgICAgICBjb25zdCBnYW1lX2lkID0gZ2V0UXVlcnlWYXJpYWJsZSgiZ2FtZV9pZCIpOwogICAgICAgICAgICBpZiAoIWdhbWVfaWQpIHJldHVybjsKICAgICAgICAgICAgZmV0Y2hMYXVuY2hlckpzb24oYC9faWR2LWxvZ2luL2xhdW5jaGVyLXN0YXR1cz9nYW1lX2lkPSR7Z2FtZV9pZH1gKQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IgfHwgJ+iOt+WPluWQr+WKqOWZqOS/oeaBr+Wksei0pScpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBsYXVuY2hlclN0YXRlID0gZGF0YTsKICAgICAgICAgICAgICAgICAgICByZW5kZXJMYXVuY2hlckRpc3RyaWJ1dGlvbk9wdGlvbnMoKTsKICAgICAgICAgICAgICAgICAgICB1cGRhdGVMYXVuY2hlckRpc3BsYXkoKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciAmJiBlcnJvci5pc05vdEZvdW5kKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbGF1bmNoZXJTdGF0ZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhdW5jaGVyVGl0bGUnKS50ZXh0Q29udGVudCA9ICflkK/liqjlmajkv6Hmga/liqDovb3lpLHotKUnOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZW5kZXJMYXVuY2hlckRpc3RyaWJ1dGlvbk9wdGlvbnMoKSB7CiAgICAgICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXVuY2hlckRpc3RyaWJ1dGlvblNlbGVjdCcpOwogICAgICAgICAgICBzZWxlY3QuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgIGlmICghbGF1bmNoZXJTdGF0ZSB8fCAhbGF1bmNoZXJTdGF0ZS5kaXN0cmlidXRpb25zIHx8IGxhdW5jaGVyU3RhdGUuZGlzdHJpYnV0aW9ucy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT0iIiBkaXNhYmxlZCBzZWxlY3RlZD7mmoLml6DniYjmnKw8L29wdGlvbj4nOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRJZCA9IGxhdW5jaGVyU3RhdGUuZ2FtZS5kZWZhdWx0X2Rpc3RyaWJ1dGlvbjsKICAgICAgICAgICAgbGF1bmNoZXJTdGF0ZS5kaXN0cmlidXRpb25zLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsKICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGl0ZW0uZGlzdHJpYnV0aW9uX2lkOwogICAgICAgICAgICAgICAgb3B0aW9uLnRleHQgPSBg5YiG5Y+RICR7aXRlbS5kaXN0cmlidXRpb25faWR9YDsKICAgICAgICAgICAgICAgIGlmIChTdHJpbmcoaXRlbS5kaXN0cmlidXRpb25faWQpID09PSBTdHJpbmcoZGVmYXVsdElkKSkgewogICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB1cGRhdGVMYXVuY2hlckRpc3BsYXkoKSB7CiAgICAgICAgICAgIGlmICghbGF1bmNoZXJTdGF0ZSkgcmV0dXJuOwogICAgICAgICAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGF1bmNoZXJEaXN0cmlidXRpb25TZWxlY3QnKTsKICAgICAgICAgICAgbGV0IGRpc3RJZCA9IHNlbGVjdC52YWx1ZTsKICAgICAgICAgICAgaWYgKCFkaXN0SWQgJiYgbGF1bmNoZXJTdGF0ZS5kaXN0cmlidXRpb25zLmxlbmd0aCkgewogICAgICAgICAgICAgICAgZGlzdElkID0gbGF1bmNoZXJTdGF0ZS5kaXN0cmlidXRpb25zWzBdLmRpc3RyaWJ1dGlvbl9pZDsKICAgICAgICAgICAgICAgIHNlbGVjdC52YWx1ZSA9IGRpc3RJZDsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBkaXN0ID0gbGF1bmNoZXJTdGF0ZS5kaXN0cmlidXRpb25zLmZpbmQoaXRlbSA9PiBTdHJpbmcoaXRlbS5kaXN0cmlidXRpb25faWQpID09PSBTdHJpbmcoZGlzdElkKSk7CiAgICAgICAgICAgIGNvbnN0IGxhdW5jaGVyID0gZGlzdCA/IChkaXN0LmxhdW5jaGVyIHx8IHt9KSA6IHt9OwoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhdW5jaGVyVGl0bGUnKS50ZXh0Q29udGVudCA9IGxhdW5jaGVyLmRpc3BsYXlfbmFtZSB8fCBsYXVuY2hlci5hcHBfbmFtZSB8fCBsYXVuY2hlclN0YXRlLmdhbWVfaWQ7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXVuY2hlclN1YlRpdGxlJykudGV4dENvbnRlbnQgPSBsYXVuY2hlci5hcHBfbmFtZSB8fCBsYXVuY2hlci5kaXNwbGF5X25hbWUgfHwgJ+WQr+WKqOWZqOS/oeaBryc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXVuY2hlckRldmVsb3BlcicpLnRleHRDb250ZW50ID0gbGF1bmNoZXIuZGV2ZWxvcGVyIHx8ICctJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhdW5jaGVyUHVibGlzaGVyJykudGV4dENvbnRlbnQgPSBsYXVuY2hlci5wdWJsaXNoZXIgfHwgJy0nOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGF1bmNoZXJMb2NhbFZlcnNpb24nKS50ZXh0Q29udGVudCA9IGxhdW5jaGVyU3RhdGUuZ2FtZS52ZXJzaW9uIHx8ICfmnKrnn6UnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGF1bmNoZXJUYXJnZXRWZXJzaW9uJykudGV4dENvbnRlbnQgPSBkaXN0ICYmIGRpc3QudGFyZ2V0X3ZlcnNpb24gPyBkaXN0LnRhcmdldF92ZXJzaW9uIDogJ+acquefpSc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXVuY2hlclN0YXJ0dXBQYXRoJykudGV4dENvbnRlbnQgPSBsYXVuY2hlci5zdGFydHVwX3BhdGggfHwgJ+acquefpSc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXVuY2hlckluc3RhbGxQYXRoJykudGV4dENvbnRlbnQgPSBsYXVuY2hlclN0YXRlLmdhbWUuaW5zdGFsbGVkID8gKGxhdW5jaGVyU3RhdGUuZ2FtZS5wYXRoIHx8ICflt7Llronoo4UnKSA6ICfmnKrlronoo4UnOwoKICAgICAgICAgICAgY29uc3QgaWNvbkVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhdW5jaGVySWNvbicpOwogICAgICAgICAgICBjb25zdCBpY29uU3JjID0gbGF1bmNoZXIubG9nbyB8fCBsYXVuY2hlci5pY29uIHx8ICcnOwogICAgICAgICAgICBpZiAoaWNvblNyYykgewogICAgICAgICAgICAgICAgaWNvbkVsLnNyYyA9IGljb25TcmM7CiAgICAgICAgICAgICAgICBpY29uRWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpY29uRWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGJnRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGF1bmNoZXJNYWluSW1hZ2UnKTsKICAgICAgICAgICAgY29uc3QgYmdTcmMgPSBsYXVuY2hlci5tYWluX2ltYWdlIHx8ICcnOwogICAgICAgICAgICBpZiAoYmdFbCkgewogICAgICAgICAgICAgICAgaWYgKGJnU3JjKSB7CiAgICAgICAgICAgICAgICAgICAgYmdFbC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke2JnU3JjfScpYDsKICAgICAgICAgICAgICAgICAgICBiZ0VsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBiZ0VsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGJhZGdlcyA9IFtdOwogICAgICAgICAgICBiYWRnZXMucHVzaCh7IHRleHQ6IGxhdW5jaGVyU3RhdGUuZ2FtZS5pbnN0YWxsZWQgPyAn5bey5a6J6KOFJyA6ICfmnKrlronoo4UnLCBjb2xvcjogbGF1bmNoZXJTdGF0ZS5nYW1lLmluc3RhbGxlZCA/ICdzdWNjZXNzJyA6ICdzZWNvbmRhcnknIH0pOwogICAgICAgICAgICBiYWRnZXMucHVzaCh7IHRleHQ6IGRpc3QgJiYgZGlzdC5jYW5fdXBkYXRlID8gJ+WPr+ajgOafpeabtOaWsCcgOiAn5peg6ZyA5pu05pawJywgY29sb3I6IGRpc3QgJiYgZGlzdC5jYW5fdXBkYXRlID8gJ3dhcm5pbmcnIDogJ3NlY29uZGFyeScgfSk7CiAgICAgICAgICAgIGJhZGdlcy5wdXNoKHsgdGV4dDogZGlzdCAmJiBkaXN0LmNhbl9kb3dubG9hZCA/ICflj6/kuIvovb0nIDogJ+S4jeWPr+S4i+i9vScsIGNvbG9yOiBkaXN0ICYmIGRpc3QuY2FuX2Rvd25sb2FkID8gJ2luZm8nIDogJ3NlY29uZGFyeScgfSk7CiAgICAgICAgICAgIGJhZGdlcy5wdXNoKHsgdGV4dDogbGF1bmNoZXJTdGF0ZS5nYW1lLmNhbl9jb252ZXJ0ID8gJ+WPr+WkmuW8gCcgOiAn5LiN5Y+v5aSa5byAJywgY29sb3I6IGxhdW5jaGVyU3RhdGUuZ2FtZS5jYW5fY29udmVydCA/ICdwcmltYXJ5JyA6ICdzZWNvbmRhcnknIH0pOwogICAgICAgICAgICBjb25zdCBiYWRnZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXVuY2hlclN0YXR1c0JhZGdlcycpOwogICAgICAgICAgICBiYWRnZUNvbnRhaW5lci5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgYmFkZ2VzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogICAgICAgICAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSBgYmFkZ2UgYmctJHtpdGVtLmNvbG9yfWA7CiAgICAgICAgICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gaXRlbS50ZXh0OwogICAgICAgICAgICAgICAgYmFkZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQoc3Bhbik7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY29uc3QgaW5zdGFsbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXVuY2hlckluc3RhbGxCdG4nKTsKICAgICAgICAgICAgY29uc3QgdXBkYXRlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhdW5jaGVyVXBkYXRlQnRuJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBpbXBvcnRMaXN0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhdW5jaGVySW1wb3J0RmV2ZXJMaXN0QnRuJyk7CiAgICAgICAgICAgIGluc3RhbGxCdG4uZGlzYWJsZWQgPSBsYXVuY2hlclN0YXRlLmdhbWUuaW5zdGFsbGVkIHx8ICEoZGlzdCAmJiBkaXN0LmNhbl9kb3dubG9hZCk7CiAgICAgICAgICAgIC8v5aaC5p6c5bey57uP5a6J6KOF77yM5LiU6IO95LiL6L2977yM5YiZ5L+u5pS55oyJ6ZKu5a2X5qC35Li66YeN5paw5a6J6KOF5bm25ZCv55SoCiAgICAgICAgICAgIGlmIChsYXVuY2hlclN0YXRlLmdhbWUuaW5zdGFsbGVkICYmIGRpc3QgJiYgZGlzdC5jYW5fZG93bmxvYWQpIHsKICAgICAgICAgICAgICAgIGluc3RhbGxCdG4udGV4dENvbnRlbnQgPSAn6YeN5paw5a6J6KOF5oiW5LuO5pen5YyF5L2T6L+B56e7JzsKICAgICAgICAgICAgICAgIHVwZGF0ZUJ0bi50ZXh0Q29udGVudCA9ICfmo4Dmn6Xmm7TmlrAnOwogICAgICAgICAgICAgICAgaW5zdGFsbEJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgdXBkYXRlQnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSBpZihkaXN0ICYmIGRpc3QuY2FuX2Rvd25sb2FkKSB7CiAgICAgICAgICAgICAgICBpbnN0YWxsQnRuLmRpc2FibGVkPWZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICB1cGRhdGVCdG4uZGlzYWJsZWQgPSAhKGRpc3QgJiYgZGlzdC5jYW5fdXBkYXRlKTsKCiAgICAgICAgICAgIGltcG9ydExpc3RCdG4uZGlzYWJsZWQgPSBmYWxzZTsKCiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBpbnN0YWxsTGF1bmNoZXIoKSB7CiAgICAgICAgICAgIGlmICghbGF1bmNoZXJTdGF0ZSkgcmV0dXJuOwogICAgICAgICAgICBjb25zdCBkaXN0SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGF1bmNoZXJEaXN0cmlidXRpb25TZWxlY3QnKS52YWx1ZTsKICAgICAgICAgICAgaWYgKCFkaXN0SWQpIHJldHVybjsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogIuW8gOWni+WuieijhSIsCiAgICAgICAgICAgICAgICB0ZXh0OiAi6K+36YCJ5oup5a6J6KOF55uu5b2V5bm2562J5b6F5LiL6L295a6M5oiQ44CC5aaC5p6c5om+5LiN5Yiw5by556qX77yM5YWI57yp5bCP5rWP6KeI5Zmo77yM56qX5Y+j5Y+v6IO95piv6KKr5oyh5L2P5LqG44CC5a6J6KOF6K+36YCJ5oup56m655uu5b2V77yM5LiN6KaB6YCJ5oup5pen54mI5pys5omA5Zyo55uu5b2V44CCIiwKICAgICAgICAgICAgICAgIGljb246ICJpbmZvIiwKICAgICAgICAgICAgICAgIGJ1dHRvbnM6IGZhbHNlLAogICAgICAgICAgICAgICAgY2xvc2VPbkNsaWNrT3V0c2lkZTogZmFsc2UsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBmZXRjaExhdW5jaGVySnNvbihgL19pZHYtbG9naW4vbGF1bmNoZXItaW5zdGFsbD9nYW1lX2lkPSR7bGF1bmNoZXJTdGF0ZS5nYW1lX2lkfSZkaXN0cmlidXRpb25faWQ9JHtkaXN0SWR9YCkKICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIHN3YWwuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLlronoo4XlvIDlp4siLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogIuS4i+i9veW3sue7j+W8gOWniyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b246ICLnoa7lrpoiLAogICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRHYW1lTGlzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZExhdW5jaGVyU3RhdHVzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLlronoo4XlpLHotKUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZGF0YS5lcnJvciB8fCAi5a6J6KOF6L+H56iL5aSx6LSlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b246ICLnoa7lrpoiLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgJiYgZXJyb3IuaXNOb3RGb3VuZCkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2FsLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi6K+35rGC5aSx6LSlIiwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogIuaXoOazlei/nuaOpeWIsOacjeWKoeWZqCIsCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUxhdW5jaGVyKCkgewogICAgICAgICAgICBpZiAoIWxhdW5jaGVyU3RhdGUpIHJldHVybjsKICAgICAgICAgICAgY29uc3QgZGlzdElkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhdW5jaGVyRGlzdHJpYnV0aW9uU2VsZWN0JykudmFsdWU7CiAgICAgICAgICAgIGlmICghZGlzdElkKSByZXR1cm47CiAgICAgICAgICAgIGZldGNoTGF1bmNoZXJKc29uKGAvX2lkdi1sb2dpbi9sYXVuY2hlci11cGRhdGUtaW5mbz9nYW1lX2lkPSR7bGF1bmNoZXJTdGF0ZS5nYW1lX2lkfSZkaXN0cmlidXRpb25faWQ9JHtkaXN0SWR9YCkKICAgICAgICAgICAgICAgIC50aGVuKGluZm8gPT4gewogICAgICAgICAgICAgICAgICAgIGlmICghaW5mby5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihpbmZvLmVycm9yIHx8ICfojrflj5bmm7TmlrDkv6Hmga/lpLHotKUnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzkuIvovb3mlofku7blpKflsI/mmK85NkLvvIzogIzkuJTpnIDopoHmm7TmlrDmlofku7bnmoTmlbDph4/mmK8x77yM5YiZ5o+Q56S655So5oi35bey57uP5a6M5oiQ57uV6L+H5Y+R54On5bmz5Y+w5aSE55CG77yM5peg6ZyA5pu05pawCiAgICAgICAgICAgICAgICAgICAgLy9pZiAoaW5mby5kb3dubG9hZF9ieXRlcz09OTYgJiYgaW5mby5maWxlX2NvdW50PT0xKXsKICAgICAgICAgICAgICAgICAgICAvLyAgICByZXR1cm4gc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIHRpdGxlOiAi5oGt5ZacIiwKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgdGV4dDogIuW3sue7j+WujOaIkOe7lei/h+WPkeeDp+W5s+WPsOWkhOeQhu+8jOaXoOmcgOabtOaWsOOAgui/meS4quW8ueeql+WwhuWcqOS4i+S4gOS4quabtOaWsOS4reWOu+mZpE9WTyIsCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIGljb246ICJpbmZvIiwKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICAvLyAgICB9KS50aGVuKCgpID0+IGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAvL30KICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3dubG9hZFRleHQgPSBpbmZvLm5lZWRzX3VwZGF0ZQogICAgICAgICAgICAgICAgICAgICAgICA/IGDpnIDopoHkuIvovb3vvJoke2Zvcm1hdFNpemUoaW5mby5kb3dubG9hZF9ieXRlcyl977yIJHtpbmZvLmZpbGVfY291bnR95Liq5paH5Lu277yJYAogICAgICAgICAgICAgICAgICAgICAgICA6ICfml6DpnIDkuIvovb3vvIzlt7LmmK/mnIDmlrDniYjmnKwnOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc2tUZXh0ID0gYOejgeebmOWJqeS9me+8miR7Zm9ybWF0U2l6ZShpbmZvLmRpc2tfZnJlZV9ieXRlcyl9YDsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5pu05paw5o+Q56S6IiwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogYCR7ZG93bmxvYWRUZXh0fVxuJHtkaXNrVGV4dH1cbuWmguaenOaCqOaYr+aXp+WMheS9k++8jOivt+mAieaLqeKAnOmHjeaWsOWuieijheaIluS7juaXp+WMheS9k+i/geenu+KAne+8jOW5tuS4lOWcqOS4gOS4quepuuebruW9leS4i+S4i+i9veaWsOW8leaTjlxu5aaC5p6c5oKo5piv5paw5YyF5L2T77yM54K55Ye757un57ut5pu05paw77yM5bCG5Lya5qCh6aqM5bm25pu05paw5pys5Zyw5bey5pyJ55qE5paw5byV5pOO77yM5bm25LiU5Yib5bu65b+r5o235pa55byPYCwKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogImluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbIuWPlua2iCIsICLnu6fnu63mm7TmlrAiXSwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihzaG91bGRVcGRhdGUgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICghc2hvdWxkVXBkYXRlKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5q2j5Zyo5pu05pawIiwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogIuivt+eojeWAmS4uLiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJpbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlT25DbGlja091dHNpZGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaExhdW5jaGVySnNvbihgL19pZHYtbG9naW4vbGF1bmNoZXItdXBkYXRlP2dhbWVfaWQ9JHtsYXVuY2hlclN0YXRlLmdhbWVfaWR9JmRpc3RyaWJ1dGlvbl9pZD0ke2Rpc3RJZH1gKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBzd2FsLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5pu05paw5bey5Zyo5ZCO5Y+w5ZCv5YqoIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICLor7fnlZnmhI/lt6XlhbfnmoTmlrDnqpflj6PvvIzlupTor6XkvJrlkK/liqjkuKTkuKrnqpflj6PvvIzlhbbkuK3kuIDkuKrnqpflj6PkvJrlsZXnpLrov5vluqbvvIHmm7TmlrDlrozlsIbkvJrlvLnlh7rmuLjmiI/miYDlnKjkvY3nva7vvIzor7fms6jmhI/orrDlvZXjgIIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkTGF1bmNoZXJTdGF0dXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuabtOaWsOWksei0pSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhLmVycm9yIHx8ICLmm7TmlrDov4fnqIvlpLHotKUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciAmJiBlcnJvci5pc05vdEZvdW5kKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi6K+35rGC5aSx6LSlIiwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogIuaXoOazlei/nuaOpeWIsOacjeWKoeWZqCIsCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGltcG9ydEZldmVyTGF1bmNoZXIoKSB7CiAgICAgICAgICAgIGlmICghbGF1bmNoZXJTdGF0ZSkgcmV0dXJuOwogICAgICAgICAgICBpZiAobGF1bmNoZXJTdGF0ZS5nYW1lX2lkIT0naDU1JyAmJiBsYXVuY2hlclN0YXRlLmdhbWVfaWQuZW5kc1dpdGgoJ2g1NScpKXsKICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5LuO5Y+R54On5bmz5Y+w5a+85YWl56ys5LqU5Lq65qC85paw5byV5pOOIiwKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAi5piv5ZCm5a+85YWl5bey57uP5a6J6KOF55qE56ys5LqU5Lq65qC85paw5byV5pOO77yf5a+85YWl5ZCO77yM5ri45oiP5Y+v5Lul55u05o6l5ZCv5Yqo77yM5Lmf5Y+v5Lul55So5bel5YW35ZCv5Yqo77yM5a6e546w5YWN5omr56CB5Yqf6IO977yM5LiO5pen5byV5pOO55qE55m75b2V5L2T6aqM5LiA6Ie044CCIiwKICAgICAgICAgICAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogWyLlj5bmtogiLCAi5oiR5bey57uP5Zyo5Y+R54On5bmz5Y+w5a6J6KOF5ri45oiP77yM57un57ut5a+85YWlIl0sCiAgICAgICAgICAgICAgICB9KS50aGVuKHNob3VsZEltcG9ydCA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRJbXBvcnQpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnZ2FtZV9pZCcsICJoNTUiKTsKICAgICAgICAgICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaW1wb3J0X2Zyb21fZmV2ZXJfbm93JywgIjEiKTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB1cmw7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAi5a+85YWl5LitLi4uIiwKICAgICAgICAgICAgICAgIHRleHQ6ICLmraPlnKjlr7zlhaVGZXZlcuW5s+WPsOa4uOaIj+iusOW9lSIsCiAgICAgICAgICAgICAgICBpY29uOiAiaW5mbyIsCiAgICAgICAgICAgICAgICBidXR0b25zOiBmYWxzZSwKICAgICAgICAgICAgICAgIGNsb3NlT25DbGlja091dHNpZGU6IGZhbHNlLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZmV0Y2hMYXVuY2hlckpzb24oYC9faWR2LWxvZ2luL2xhdW5jaGVyLWltcG9ydC1mZXZlcj9nYW1lX2lkPSR7bGF1bmNoZXJTdGF0ZS5nYW1lX2lkfWApCiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBzd2FsLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5a+85YWl5a6M5oiQIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEdhbWVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkTGF1bmNoZXJTdGF0dXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuWvvOWFpeWksei0pSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhLmVycm9yIHx8ICLmnKrmib7liLDlj6/lr7zlhaXorrDlvZUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciAmJiBlcnJvci5pc05vdEZvdW5kKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLor7fmsYLlpLHotKUiLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAi5peg5rOV6L+e5o6l5Yiw5pyN5Yqh5ZmoIiwKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gaW1wb3J0RmV2ZXJMYXVuY2hlckxpc3QoKSB7CiAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6ICLojrflj5blj5Hng6flubPlj7DmuLjmiI8uLi4iLAogICAgICAgICAgICAgICAgdGV4dDogIuato+WcqOWKoOi9veW3suWuieijhea4uOaIj+WIl+ihqCIsCiAgICAgICAgICAgICAgICBpY29uOiAiaW5mbyIsCiAgICAgICAgICAgICAgICBidXR0b25zOiBmYWxzZSwKICAgICAgICAgICAgICAgIGNsb3NlT25DbGlja091dHNpZGU6IGZhbHNlLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZmV0Y2hMYXVuY2hlckpzb24oYC9faWR2LWxvZ2luL2ZldmVyLWdhbWVzYCkKICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIHN3YWwuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEuc3VjY2VzcyB8fCAhZGF0YS5nYW1lcyB8fCBkYXRhLmdhbWVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvciB8fCAi5pyq5om+5Yiw5Y+v5a+85YWl6K6w5b2VIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpOwogICAgICAgICAgICAgICAgICAgIHNlbGVjdC5jbGFzc05hbWUgPSAiZm9ybS1zZWxlY3QiOwogICAgICAgICAgICAgICAgICAgIGRhdGEuZ2FtZXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gaXRlbS5kaXNwbGF5X25hbWUgfHwgaXRlbS5nYW1lX2lkOwogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSBpdGVtLmdhbWVfaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGAke3RpdGxlfSAoJHtpdGVtLmdhbWVfaWR9KWA7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBzd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLpgInmi6nopoHlr7zlhaXnmoTmuLjmiI8iLAogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBzZWxlY3QsCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFsi5Y+W5raIIiwgIuWvvOWFpSJdLAogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oc2hvdWxkSW1wb3J0ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRJbXBvcnQpIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzZWxlY3RlZElkOiBzZWxlY3QudmFsdWUgfTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihwYXlsb2FkID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXBheWxvYWQpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLlr7zlhaXkuK0uLi4iLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAi5q2j5Zyo5a+85YWlRmV2ZXLlubPlj7DmuLjmiI/orrDlvZUiLAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAiaW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICBjbG9zZU9uQ2xpY2tPdXRzaWRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hMYXVuY2hlckpzb24oYC9faWR2LWxvZ2luL2xhdW5jaGVyLWltcG9ydC1mZXZlcj9nYW1lX2lkPSR7cGF5bG9hZC5zZWxlY3RlZElkfWApOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIHN3YWwuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLlr7zlhaXlrozmiJAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkR2FtZUxpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRMYXVuY2hlclN0YXR1cygpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5a+85YWl5aSx6LSlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGRhdGEuZXJyb3IgfHwgIuacquaJvuWIsOWPr+WvvOWFpeiusOW9lSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yICYmIGVycm9yLmlzTm90Rm91bmQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dhbC5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuivt+axguWksei0pSIsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICLml6Dms5Xov57mjqXliLDmnI3liqHlmagiLAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgICBidXR0b246ICLnoa7lrpoiLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzaG93Q2xvdWRTeW5jUG9saWN5KCkgewogICAgICAgICAgICBmZXRjaCgnL19pZHYtbG9naW4vY2xvdWQtc3luYy9wb2xpY3knKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfliqDovb3or7TmmI7lpLHotKUnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IGRhdGEucG9saWN5IHx8IHt9OwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBbCiAgICAgICAgICAgICAgICAgICAgICAgIGDlrZjlgqjljp/nkIbvvJoke3Auc3RvcmFnZSB8fCAnJ31gLAogICAgICAgICAgICAgICAgICAgICAgICAnJywKICAgICAgICAgICAgICAgICAgICAgICAgJ+iusOS9j+Wvhueggee6p+WIq++8micsCiAgICAgICAgICAgICAgICAgICAgICAgIGAtIOS4jeiusOS9j+S4u+WvhumSpe+8miR7KHAuY3JlZGVudGlhbF9sZXZlbHMgfHwge30pLm5vbmUgfHwgJyd9YCwKICAgICAgICAgICAgICAgICAgICAgICAgYC0g6K6w5L2P5Li75a+G6ZKl77yaJHsocC5jcmVkZW50aWFsX2xldmVscyB8fCB7fSkubWFzdGVyX2tleSB8fCAnJ31gLAogICAgICAgICAgICAgICAgICAgICAgICAnJywKICAgICAgICAgICAgICAgICAgICAgICAgJ+adg+mZkOivtOaYju+8micsCiAgICAgICAgICAgICAgICAgICAgICAgIGAtIOS4u+WvhumSpe+8miR7KHAucGVybWlzc2lvbnMgfHwge30pLm1hc3Rlcl9rZXkgfHwgJyd9YCwKICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJ1xuJyk7CiAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5LqR5ZCM5q2l6K+05piOJywKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCwKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2luZm8nLAogICAgICAgICAgICAgICAgICAgICAgICBidXR0b246ICfmiJHlt7Lkuobop6MnLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgc3dhbCh7IHRpdGxlOiAn5Yqg6L295aSx6LSlJywgdGV4dDogJ+aXoOazleWKoOi9veS6keWQjOatpeivtOaYjicsIGljb246ICdlcnJvcicsIGJ1dHRvbjogJ+ehruWumicgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIF9jb2xsZWN0Q2xvdWRTeW5jU2NvcGVVdWlkcyhzY29wZVR5cGUpIHsKICAgICAgICAgICAgaWYgKHNjb3BlVHlwZSAhPT0gJ3NlbGVjdGVkJykgcmV0dXJuIFtdOwogICAgICAgICAgICBjb25zdCBzZWxlY3RlZFV1aWRzID0gW107CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvdW50LWNoZWNrYm94OmNoZWNrZWQnKS5mb3JFYWNoKGNoZWNrYm94ID0+IHsKICAgICAgICAgICAgICAgIHNlbGVjdGVkVXVpZHMucHVzaChjaGVja2JveC52YWx1ZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWRVdWlkczsKICAgICAgICB9CgogICAgICAgIGNvbnN0IENMT1VEX1NZTkNfUE9MSUNZX0FDS19LRVkgPSAnY2xvdWRTeW5jV2l6YXJkUG9saWN5QWNrJzsKCiAgICAgICAgZnVuY3Rpb24gX2lzQ2xvdWRTeW5jUG9saWN5QWNrZWQoKSB7CiAgICAgICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShDTE9VRF9TWU5DX1BPTElDWV9BQ0tfS0VZKSA9PT0gJzEnOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gX3N5bmNDbG91ZFN5bmNQb2xpY3lTdGF0ZVRleHQoKSB7CiAgICAgICAgICAgIGNvbnN0IHN0YXRlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvdWRTeW5jUG9saWN5U3RhdGVUZXh0Jyk7CiAgICAgICAgICAgIGlmICghc3RhdGVFbCkgcmV0dXJuOwogICAgICAgICAgICBjb25zdCBhY2tlZCA9IF9pc0Nsb3VkU3luY1BvbGljeUFja2VkKCk7CiAgICAgICAgICAgIHN0YXRlRWwuY2xhc3NOYW1lID0gYWNrZWQgPyAnc21hbGwgdGV4dC1zdWNjZXNzJyA6ICdzbWFsbCB0ZXh0LW11dGVkJzsKICAgICAgICAgICAgc3RhdGVFbC50ZXh0Q29udGVudCA9IGFja2VkCiAgICAgICAgICAgICAgICA/ICforrjlj6/nirbmgIHvvJrlt7LlkIzmhI/vvIjmnaXoh6rlkJHlr7znrKzkuIDmraXvvIknCiAgICAgICAgICAgICAgICA6ICforrjlj6/nirbmgIHvvJrmnKrlkIzmhI/vvIjor7flhYjlrozmiJDphY3nva7lkJHlr7znrKzkuIDmraXvvIknOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gYXBwbHlDbG91ZFN5bmNDYXJkQXZhaWxhYmlsaXR5KCkgewogICAgICAgICAgICBjb25zdCBib2R5RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvdWRTeW5jQ2FyZEJvZHknKTsKICAgICAgICAgICAgaWYgKCFib2R5RWwpIHJldHVybjsKICAgICAgICAgICAgY29uc3QgYWNrZWQgPSBfaXNDbG91ZFN5bmNQb2xpY3lBY2tlZCgpOwoKICAgICAgICAgICAgbGV0IGxvY2tUaXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvdWRTeW5jTG9ja1RpcCcpOwogICAgICAgICAgICBpZiAoIWxvY2tUaXApIHsKICAgICAgICAgICAgICAgIGxvY2tUaXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGxvY2tUaXAuaWQgPSAnY2xvdWRTeW5jTG9ja1RpcCc7CiAgICAgICAgICAgICAgICBsb2NrVGlwLmNsYXNzTmFtZSA9ICdhbGVydCBhbGVydC13YXJuaW5nIG1iLTMnOwogICAgICAgICAgICAgICAgYm9keUVsLnByZXBlbmQobG9ja1RpcCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbG9ja1RpcC50ZXh0Q29udGVudCA9ICfor7flhYjngrnlh7vlj7PkuIrop5LigJzphY3nva7lkJHlr7zigJ3vvIzlnKjnrKzkuIDmraXli77pgInlubbngrnlh7vigJzkuIvkuIDmraXigJ3lkI7vvIzmiY3lj6/kvb/nlKjkupHlkIzmraXpnaLmnb/jgIInOwogICAgICAgICAgICBsb2NrVGlwLnN0eWxlLmRpc3BsYXkgPSBhY2tlZCA/ICdub25lJyA6ICdibG9jayc7CgogICAgICAgICAgICBjb25zdCBjb250cm9scyA9IGJvZHlFbC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYnV0dG9uJyk7CiAgICAgICAgICAgIGNvbnRyb2xzLmZvckVhY2goY29udHJvbCA9PiB7CiAgICAgICAgICAgICAgICBjb250cm9sLmRpc2FibGVkID0gIWFja2VkOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF9zeW5jQ2xvdWRTeW5jUG9saWN5U3RhdGVUZXh0KCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBfc2V0Q2xvdWRTeW5jUG9saWN5QWNrZWQoYWNrZWQpIHsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oQ0xPVURfU1lOQ19QT0xJQ1lfQUNLX0tFWSwgYWNrZWQgPyAnMScgOiAnMCcpOwogICAgICAgICAgICBhcHBseUNsb3VkU3luY0NhcmRBdmFpbGFiaWxpdHkoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIF9lbnN1cmVDbG91ZFN5bmNQb2xpY3lBY2tlZChzaWxlbnQgPSBmYWxzZSkgewogICAgICAgICAgICBjb25zdCBhY2tlZCA9IF9pc0Nsb3VkU3luY1BvbGljeUFja2VkKCk7CiAgICAgICAgICAgIGlmICghYWNrZWQgJiYgIXNpbGVudCkgewogICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfor7flhYjlrozmiJDlkJHlr7zorrjlj68nLAogICAgICAgICAgICAgICAgICAgIHRleHQ6ICfor7flhYjmiZPlvIDigJzphY3nva7lkJHlr7zigJ3vvIzlnKjnrKzkuIDmraXli77pgInlubbngrnlh7vigJzkuIvkuIDmraXigJ3lkI7lho3kvb/nlKjkupHlkIzmraXjgIInLAogICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICBidXR0b246ICfnoa7lrponLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGFja2VkOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gX2J1aWxkQ2xvdWRTeW5jUGF5bG9hZCgpIHsKICAgICAgICAgICAgY29uc3Qgc2NvcGVUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3VkU3luY1Njb3BlVHlwZScpLnZhbHVlOwogICAgICAgICAgICBjb25zdCBleHBpcmVTZWNvbmRzID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3VkU3luY0V4cGlyZUF0JykudmFsdWUpIHx8IDI1OTIwMDsKCiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICBtYXN0ZXJfa2V5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvdWRTeW5jTWFzdGVyS2V5JykudmFsdWUsCiAgICAgICAgICAgICAgICByZW1lbWJlcl9sZXZlbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3VkU3luY1JlbWVtYmVyTGV2ZWwnKS52YWx1ZSwKICAgICAgICAgICAgICAgIHN5bmNfZGlyZWN0aW9uOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvdWRTeW5jRGlyZWN0aW9uJykudmFsdWUsCiAgICAgICAgICAgICAgICBhdXRvX3N5bmM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG91ZFN5bmNBdXRvU3luYycpLmNoZWNrZWQsCiAgICAgICAgICAgICAgICBjb25zZW50X2FjazogX2lzQ2xvdWRTeW5jUG9saWN5QWNrZWQoKSwKICAgICAgICAgICAgICAgIHNjb3BlX3R5cGU6IHNjb3BlVHlwZSwKICAgICAgICAgICAgICAgIHNjb3BlX2dhbWVfaWQ6IGdldFF1ZXJ5VmFyaWFibGUoJ2dhbWVfaWQnKSwKICAgICAgICAgICAgICAgIHNjb3BlX3V1aWRzOiBfY29sbGVjdENsb3VkU3luY1Njb3BlVXVpZHMoc2NvcGVUeXBlKSwKICAgICAgICAgICAgICAgIGV4cGlyZV90aW1lOiBleHBpcmVTZWNvbmRzLAogICAgICAgICAgICB9OwogICAgICAgICAgICByZXR1cm4gcGF5bG9hZDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIF9zZXRDbG91ZFN5bmNFeHBpcmVBdEZyb21TZWNvbmRzKGV4cGlyZVNlY29uZHMpIHsKICAgICAgICAgICAgY29uc3QgdmFsID0gU3RyaW5nKGV4cGlyZVNlY29uZHMgfHwgMjU5MjAwKTsKICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvdWRTeW5jRXhwaXJlQXQnKTsKICAgICAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWwub3B0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKGVsLm9wdGlvbnNbaV0udmFsdWUgPT09IHZhbCkgewogICAgICAgICAgICAgICAgICAgIGVsLnZhbHVlID0gdmFsOwogICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgICAgICAgICAgZWwudmFsdWUgPSAiMjU5MjAwIjsgCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIF9kb3dubG9hZENsb3VkU3luY01hc3RlcktleVR4dChtYXN0ZXJLZXkpIHsKICAgICAgICAgICAgY29uc3Qga2V5ID0gU3RyaW5nKG1hc3RlcktleSB8fCAnJykudHJpbSgpOwogICAgICAgICAgICBpZiAoIWtleSkgewogICAgICAgICAgICAgICAgc3dhbCgn5peg5rOV5LiL6L29JywgJ+S4u+WvhumSpeS4uuepuu+8jOivt+WFiOeUn+aIkOaIlui+k+WFpeS4u+WvhumSpScsICdlcnJvcicpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIGNvbnN0IHBhZCA9IChuKSA9PiBTdHJpbmcobikucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gYCR7bm93LmdldEZ1bGxZZWFyKCl9JHtwYWQobm93LmdldE1vbnRoKCkgKyAxKX0ke3BhZChub3cuZ2V0RGF0ZSgpKX0tJHtwYWQobm93LmdldEhvdXJzKCkpfSR7cGFkKG5vdy5nZXRNaW51dGVzKCkpfSR7cGFkKG5vdy5nZXRTZWNvbmRzKCkpfWA7CiAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gYGlkdi1sb2dpbi1tYXN0ZXIta2V5LSR7dGltZXN0YW1wfS50eHRgOwogICAgICAgICAgICBjb25zdCBjb250ZW50ID0gWwogICAgICAgICAgICAgICAgJ0lEViBMb2dpbiDkupHlkIzmraXkuLvlr4bpkqUnLAogICAgICAgICAgICAgICAgJ+ivt+WmpeWWhOS/neeuoe+8jOazhOmcsuWwhuWvvOiHtOS6keerr+WvhuaWh+WPr+iiq+ino+WvhuOAgicsCiAgICAgICAgICAgICAgICAnJywKICAgICAgICAgICAgICAgIGBtYXN0ZXJfa2V5PSR7a2V5fWAsCiAgICAgICAgICAgICAgICAnJwogICAgICAgICAgICBdLmpvaW4oJ1xuJyk7CgogICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgnIH0pOwogICAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgICAgICBjb25zdCBkb3dubG9hZExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgIGRvd25sb2FkTGluay5ocmVmID0gdXJsOwogICAgICAgICAgICBkb3dubG9hZExpbmsuZG93bmxvYWQgPSBmaWxlTmFtZTsKICAgICAgICAgICAgZG93bmxvYWRMaW5rLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG93bmxvYWRMaW5rKTsKICAgICAgICAgICAgZG93bmxvYWRMaW5rLmNsaWNrKCk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY29udGFpbnMoZG93bmxvYWRMaW5rKSkgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG93bmxvYWRMaW5rKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBfZ2V0Q2xvdWRTeW5jUGFuZWxDb2xsYXBzZWQoKSB7CiAgICAgICAgICAgIGNvbnN0IHZhbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjbG91ZFN5bmNQYW5lbENvbGxhcHNlZCcpOwogICAgICAgICAgICBpZiAodmFsID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdmFsID09PSAnMSc7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBfc2V0Q2xvdWRTeW5jUGFuZWxDb2xsYXBzZWQoY29sbGFwc2VkKSB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjbG91ZFN5bmNQYW5lbENvbGxhcHNlZCcsIGNvbGxhcHNlZCA/ICcxJyA6ICcwJyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBhcHBseUNsb3VkU3luY1BhbmVsU3RhdGUoKSB7CiAgICAgICAgICAgIGNvbnN0IGNvbGxhcHNlZCA9IF9nZXRDbG91ZFN5bmNQYW5lbENvbGxhcHNlZCgpOwogICAgICAgICAgICBjb25zdCBib2R5RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvdWRTeW5jQ2FyZEJvZHknKTsKICAgICAgICAgICAgY29uc3QgYnRuRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvdWRTeW5jVG9nZ2xlQnRuJyk7CiAgICAgICAgICAgIGlmIChib2R5RWwpIHsKICAgICAgICAgICAgICAgIGJvZHlFbC5zdHlsZS5kaXNwbGF5ID0gY29sbGFwc2VkID8gJ25vbmUnIDogJ2Jsb2NrJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoYnRuRWwpIHsKICAgICAgICAgICAgICAgIGJ0bkVsLmlubmVySFRNTCA9IGNvbGxhcHNlZAogICAgICAgICAgICAgICAgICAgID8gJzxpIGNsYXNzPSJiaSBiaS1jaGV2cm9uLXJpZ2h0IG1lLTEiPjwvaT7lsZXlvIAnCiAgICAgICAgICAgICAgICAgICAgOiAnPGkgY2xhc3M9ImJpIGJpLWNoZXZyb24tZG93biBtZS0xIj48L2k+5pS26LW3JzsKICAgICAgICAgICAgfQogICAgICAgICAgICBhcHBseUNsb3VkU3luY0NhcmRBdmFpbGFiaWxpdHkoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUNsb3VkU3luY1BhbmVsKCkgewogICAgICAgICAgICBjb25zdCBjb2xsYXBzZWQgPSBfZ2V0Q2xvdWRTeW5jUGFuZWxDb2xsYXBzZWQoKTsKICAgICAgICAgICAgX3NldENsb3VkU3luY1BhbmVsQ29sbGFwc2VkKCFjb2xsYXBzZWQpOwogICAgICAgICAgICBhcHBseUNsb3VkU3luY1BhbmVsU3RhdGUoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIF9ldmFsdWF0ZU1hc3RlcktleVN0cmVuZ3RoKG1hc3RlcktleSkgewogICAgICAgICAgICBjb25zdCBrZXkgPSBtYXN0ZXJLZXkgfHwgJyc7CiAgICAgICAgICAgIGNvbnN0IGhhc1VwcGVyID0gL1tBLVpdLy50ZXN0KGtleSk7CiAgICAgICAgICAgIGNvbnN0IGhhc0xvd2VyID0gL1thLXpdLy50ZXN0KGtleSk7CiAgICAgICAgICAgIGNvbnN0IGhhc0RpZ2l0ID0gL1xkLy50ZXN0KGtleSk7CiAgICAgICAgICAgIGNvbnN0IGhhc1N5bWJvbCA9IC9bXkEtWmEtejAtOV0vLnRlc3Qoa2V5KTsKICAgICAgICAgICAgY29uc3QgY2xhc3NlcyA9IFtoYXNVcHBlciwgaGFzTG93ZXIsIGhhc0RpZ2l0LCBoYXNTeW1ib2xdLmZpbHRlcihCb29sZWFuKS5sZW5ndGg7CiAgICAgICAgICAgIGNvbnN0IHZhbGlkID0ga2V5Lmxlbmd0aCA+PSAxMiAmJiBjbGFzc2VzID49IDM7CiAgICAgICAgICAgIHJldHVybiB7IHZhbGlkLCBsZW5ndGg6IGtleS5sZW5ndGgsIGNsYXNzZXMsIGhhc1VwcGVyLCBoYXNMb3dlciwgaGFzRGlnaXQsIGhhc1N5bWJvbCB9OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQ2xvdWRTeW5jTWFzdGVyS2V5U3RyZW5ndGgoKSB7CiAgICAgICAgICAgIGNvbnN0IGtleSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG91ZFN5bmNNYXN0ZXJLZXknKS52YWx1ZTsKICAgICAgICAgICAgY29uc3QgaW5mbyA9IF9ldmFsdWF0ZU1hc3RlcktleVN0cmVuZ3RoKGtleSk7CiAgICAgICAgICAgIGNvbnN0IGhpbnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG91ZFN5bmNLZXlTdHJlbmd0aCcpOwogICAgICAgICAgICBpZiAoIWtleSkgewogICAgICAgICAgICAgICAgaGludEVsLnRleHRDb250ZW50ID0gJ+W8uuW6pu+8muacquajgOa1iyc7CiAgICAgICAgICAgICAgICBoaW50RWwuY2xhc3NOYW1lID0gJ3RleHQtbXV0ZWQnOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpbmZvLnZhbGlkKSB7CiAgICAgICAgICAgICAgICBoaW50RWwudGV4dENvbnRlbnQgPSBg5by65bqm77ya5ZCI5qC877yI6ZW/5bqmJHtpbmZvLmxlbmd0aH3vvIzlrZfnrKbnsbske2luZm8uY2xhc3Nlc30vNO+8iWA7CiAgICAgICAgICAgICAgICBoaW50RWwuY2xhc3NOYW1lID0gJ3RleHQtc3VjY2Vzcyc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBoaW50RWwudGV4dENvbnRlbnQgPSBg5by65bqm77ya5LiN6Laz77yI6Iez5bCRMTLkvY3kuJTljIXlkKsz57G75a2X56ym77yM5b2T5YmN6ZW/5bqmJHtpbmZvLmxlbmd0aH3vvIzlrZfnrKbnsbske2luZm8uY2xhc3Nlc30vNO+8iWA7CiAgICAgICAgICAgICAgICBoaW50RWwuY2xhc3NOYW1lID0gJ3RleHQtZGFuZ2VyJzsKICAgICAgICAgICAgfQogICAgICAgIH0KCgogICAgICAgIGZ1bmN0aW9uIGxvYWRDbG91ZFN5bmNTZXR0aW5ncygpIHsKICAgICAgICAgICAgZmV0Y2goJy9faWR2LWxvZ2luL2Nsb3VkLXN5bmMvc2V0dGluZ3MnKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGRhdGEuc2V0dGluZ3MgfHwge307CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3VkU3luY01hc3RlcktleScpLnZhbHVlID0gc2V0dGluZ3Muc2F2ZWRfbWFzdGVyX2tleSB8fCAnJzsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvdWRTeW5jUmVtZW1iZXJMZXZlbCcpLnZhbHVlID0gc2V0dGluZ3MucmVtZW1iZXJfbGV2ZWwgfHwgJ25vbmUnOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG91ZFN5bmNEaXJlY3Rpb24nKS52YWx1ZSA9IHNldHRpbmdzLnN5bmNfZGlyZWN0aW9uIHx8ICdiaWRpcmVjdGlvbmFsJzsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvdWRTeW5jQXV0b1N5bmMnKS5jaGVja2VkID0gISFzZXR0aW5ncy5hdXRvX3N5bmM7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3VkU3luY1Njb3BlVHlwZScpLnZhbHVlID0gc2V0dGluZ3Muc2NvcGVfdHlwZSB8fCAnYWxsJzsKICAgICAgICAgICAgICAgICAgICBfc2V0Q2xvdWRTeW5jRXhwaXJlQXRGcm9tU2Vjb25kcyhzZXR0aW5ncy5leHBpcmVfdGltZSB8fCAyNTkyMDApOwogICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNsb3VkU3luY01hc3RlcktleVN0cmVuZ3RoKCk7CiAgICAgICAgICAgICAgICAgICAgYXBwbHlDbG91ZFN5bmNDYXJkQXZhaWxhYmlsaXR5KCk7CgogICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5hdXRvX3N5bmMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcnVuQ2xvdWRTeW5jKCdhdXRvJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzYXZlQ2xvdWRTeW5jU2V0dGluZ3Mob3B0aW9ucykgewogICAgICAgICAgICBjb25zdCBvcHRzID0gb3B0aW9ucyB8fCB7fTsKICAgICAgICAgICAgaWYgKCFfZW5zdXJlQ2xvdWRTeW5jUG9saWN5QWNrZWQoKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBfYnVpbGRDbG91ZFN5bmNQYXlsb2FkKCk7CiAgICAgICAgICAgIGNvbnN0IGtleUluZm8gPSBfZXZhbHVhdGVNYXN0ZXJLZXlTdHJlbmd0aChwYXlsb2FkLm1hc3Rlcl9rZXkpOwogICAgICAgICAgICBpZiAocGF5bG9hZC5tYXN0ZXJfa2V5ICYmICFrZXlJbmZvLnZhbGlkKSB7CiAgICAgICAgICAgICAgICBzd2FsKHsgdGl0bGU6ICfkuLvlr4bpkqXlvLrluqbkuI3otrMnLCB0ZXh0OiAn6Iez5bCRMTLkvY3vvIzkuJTljIXlkKvlpKflsI/lhpnlrZfmr40v5pWw5a2XL+espuWPt+S4reeahDPnsbsnLCBpY29uOiAnd2FybmluZycsIGJ1dHRvbjogJ+ehruWumicgfSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZmV0Y2goJy9faWR2LWxvZ2luL2Nsb3VkLXN5bmMvc2V0dGluZ3MnLCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LAogICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLnNpbGVudFN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0cy5vblN1Y2Nlc3MgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLm9uU3VjY2VzcygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7IHRpdGxlOiAn5bey5L+d5a2YJywgdGV4dDogJ+S6keWQjOatpeiuvue9ruW3suabtOaWsCcsIGljb246ICdzdWNjZXNzJywgYnV0dG9uOiAn56Gu5a6aJyB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdHMub25TdWNjZXNzID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMub25TdWNjZXNzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzd2FsKHsgdGl0bGU6ICfkv53lrZjlpLHotKUnLCB0ZXh0OiBkYXRhLmVycm9yIHx8ICfmnKrnn6XplJnor68nLCBpY29uOiAnZXJyb3InLCBidXR0b246ICfnoa7lrponIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHN3YWwoeyB0aXRsZTogJ+ivt+axguWksei0pScsIHRleHQ6ICfml6Dms5Xkv53lrZjkupHlkIzmraXorr7nva4nLCBpY29uOiAnZXJyb3InLCBidXR0b246ICfnoa7lrponIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBydW5DbG91ZFN5bmMoYWN0aW9uLCBzaWxlbnQgPSBmYWxzZSkgewogICAgICAgICAgICBpZiAoIV9lbnN1cmVDbG91ZFN5bmNQb2xpY3lBY2tlZChzaWxlbnQpKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IF9idWlsZENsb3VkU3luY1BheWxvYWQoKTsKICAgICAgICAgICAgaWYgKHBheWxvYWQuc2NvcGVfdHlwZSA9PT0gJ3NlbGVjdGVkJyAmJiAoIXBheWxvYWQuc2NvcGVfdXVpZHMgfHwgcGF5bG9hZC5zY29wZV91dWlkcy5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgICAgICBpZiAoIXNpbGVudCkgewogICAgICAgICAgICAgICAgICAgIHN3YWwoeyB0aXRsZTogJ+ivt+WFiOWLvumAiei0puWPtycsIHRleHQ6ICflvZPliY3ojIPlm7TkuLrigJzku4Xli77pgInotKblj7figJ3vvIzor7flhYjlnKjotKblj7fliJfooajli77pgInlkI7lho3lkIzmraXjgIInLCBpY29uOiAnd2FybmluZycsIGJ1dHRvbjogJ+ehruWumicgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcGF5bG9hZC5hY3Rpb24gPSBhY3Rpb247CiAgICAgICAgICAgIGlmICghc2lsZW50KSB7CiAgICAgICAgICAgICAgICBzd2FsKHsgdGl0bGU6ICflkIzmraXkuK0nLCB0ZXh0OiAn6K+356iN5YCZLi4uJywgaWNvbjogJ2luZm8nLCBidXR0b25zOiBmYWxzZSwgY2xvc2VPbkNsaWNrT3V0c2lkZTogZmFsc2UgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZmV0Y2goJy9faWR2LWxvZ2luL2Nsb3VkLXN5bmMvcnVuJywgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSwKICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLAogICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaWxlbnQpIHN3YWwuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2lsZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2FsKHsgdGl0bGU6ICflkIzmraXlrozmiJAnLCB0ZXh0OiBg5pON5L2c5oiQ5Yqf77yaJHtkYXRhLmFjdGlvbiB8fCBhY3Rpb259YCwgaWNvbjogJ3N1Y2Nlc3MnLCBidXR0b246ICfnoa7lrponIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gbG9jYXRpb24ucmVsb2FkKCkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZGF0YS5za2lwcGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2lsZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2FsKHsgdGl0bGU6ICflkIzmraXlpLHotKUnLCB0ZXh0OiBkYXRhLmVycm9yIHx8ICfmnKrnn6XplJnor68nLCBpY29uOiAnZXJyb3InLCBidXR0b246ICfnoa7lrponIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaWxlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dhbC5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBzd2FsKHsgdGl0bGU6ICfor7fmsYLlpLHotKUnLCB0ZXh0OiAn5LqR5ZCM5q2l6K+35rGC5aSx6LSlJywgaWNvbjogJ2Vycm9yJywgYnV0dG9uOiAn56Gu5a6aJyB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGRlbGV0ZUNsb3VkU3luYygpIHsKICAgICAgICAgICAgaWYgKCFfZW5zdXJlQ2xvdWRTeW5jUG9saWN5QWNrZWQoKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBfYnVpbGRDbG91ZFN5bmNQYXlsb2FkKCk7CiAgICAgICAgICAgIGlmICghcGF5bG9hZC5tYXN0ZXJfa2V5KSB7CiAgICAgICAgICAgICAgICBzd2FsKHsgdGl0bGU6ICflj4LmlbDkuI3otrMnLCB0ZXh0OiAn5Yig6Zmk5LqR5ZCM5q2l6ZyA6KaB5Li75a+G6ZKlJywgaWNvbjogJ3dhcm5pbmcnLCBidXR0b246ICfnoa7lrponIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6ICfnoa7orqTliKDpmaTkupHlkIzmraXvvJ8nLAogICAgICAgICAgICAgICAgdGV4dDogJ+ivpeaTjeS9nOS8muWIoOmZpOS6keerr+W3suacieWQjOatpeiusOW9le+8jOaXoOazleaBouWkjeOAgicsCiAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICBidXR0b25zOiBbJ+WPlua2iCcsICfnoa7orqTliKDpmaQnXSwKICAgICAgICAgICAgICAgIGRhbmdlck1vZGU6IHRydWUsCiAgICAgICAgICAgIH0pLnRoZW4od2lsbERlbGV0ZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIXdpbGxEZWxldGUpIHJldHVybjsKICAgICAgICAgICAgICAgIGZldGNoKCcvX2lkdi1sb2dpbi9jbG91ZC1zeW5jL2RlbGV0ZScsIHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSwKICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSwKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0Q2xvdWRTeW5jUG9saWN5QWNrZWQoZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7IHRpdGxlOiAn5Yig6Zmk5oiQ5YqfJywgdGV4dDogJ+W3suaSpOmUgOS6keWQjOatpeiuuOWPr++8jOivt+mHjeaWsOmAmui/h+mFjee9ruWQkeWvvOehruiupOOAgicsIGljb246ICdzdWNjZXNzJywgYnV0dG9uOiAn56Gu5a6aJyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoeyB0aXRsZTogJ+WIoOmZpOWksei0pScsIHRleHQ6IGRhdGEuZXJyb3IgfHwgJ+acquefpemUmeivrycsIGljb246ICdlcnJvcicsIGJ1dHRvbjogJ+ehruWumicgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB2aWV3Q2xvdWRTeW5jTG9ncygpIHsKICAgICAgICAgICAgaWYgKCFfZW5zdXJlQ2xvdWRTeW5jUG9saWN5QWNrZWQoKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBfYnVpbGRDbG91ZFN5bmNQYXlsb2FkKCk7CiAgICAgICAgICAgIGlmICghcGF5bG9hZC5tYXN0ZXJfa2V5KSB7CiAgICAgICAgICAgICAgICBzd2FsKHsgdGl0bGU6ICflj4LmlbDkuI3otrMnLCB0ZXh0OiAn5p+l55yL5pel5b+X6ZyA6KaB5Li75a+G6ZKlJywgaWNvbjogJ3dhcm5pbmcnLCBidXR0b246ICfnoa7lrponIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZldGNoKCcvX2lkdi1sb2dpbi9jbG91ZC1zeW5jL2FjY2Vzcy1sb2dzJywgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSwKICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLAogICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7IHRpdGxlOiAn6K+75Y+W5aSx6LSlJywgdGV4dDogZGF0YS5lcnJvciB8fCAn5pyq55+l6ZSZ6K+vJywgaWNvbjogJ2Vycm9yJywgYnV0dG9uOiAn56Gu5a6aJyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2dzID0gKGRhdGEubG9ncyB8fCBbXSkuc2xpY2UoLTIwKS5yZXZlcnNlKCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGxvZ3MubGVuZ3RoCiAgICAgICAgICAgICAgICAgICAgICAgID8gbG9ncy5tYXAoaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25UZXh0ID0gaXRlbS5hY3Rpb24gfHwgJ3Vua25vd24nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXRUZXh0ID0gaXRlbS5hdCA/IG5ldyBEYXRlKGl0ZW0uYXQgKiAxMDAwKS50b0xvY2FsZVN0cmluZygpIDogJy0nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9zdFRleHQgPSAoKChpdGVtLmRldmljZSB8fCB7fSkuaG9zdG5hbWUpIHx8ICctJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7YXRUZXh0fSB8ICR7YWN0aW9uVGV4dH0gfCAke2hvc3RUZXh0fWA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgOiAn5pqC5peg6K6/6Zeu5pel5b+XJzsKICAgICAgICAgICAgICAgICAgICBzd2FsKHsgdGl0bGU6ICfmnIDov5Horr/pl67ml6Xlv5cnLCB0ZXh0LCBpY29uOiAnaW5mbycsIGJ1dHRvbjogJ+ehruWumicgfSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBzd2FsKHsgdGl0bGU6ICfor7fmsYLlpLHotKUnLCB0ZXh0OiAn5peg5rOV6K+75Y+W6K6/6Zeu5pel5b+XJywgaWNvbjogJ2Vycm9yJywgYnV0dG9uOiAn56Gu5a6aJyB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8g5Zyo6aG16Z2i5Yqg6L295pe26I635Y+W6LSm5Y+35YiX6KGoCiAgICAgICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy/ojrflvpdxdWVyeeWPguaVsGdhbWVfaWQKICAgICAgICAgICAgZ2FtZV9pZCA9IGdldFF1ZXJ5VmFyaWFibGUoImdhbWVfaWQiKTsKCiAgICAgICAgICAgIGNvbnN0IG1hc3RlcktleUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3VkU3luY01hc3RlcktleScpOwogICAgICAgICAgICBpZiAobWFzdGVyS2V5SW5wdXQpIHsKICAgICAgICAgICAgICAgIG1hc3RlcktleUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdXBkYXRlQ2xvdWRTeW5jTWFzdGVyS2V5U3RyZW5ndGgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGFwcGx5Q2xvdWRTeW5jUGFuZWxTdGF0ZSgpOwoKICAgICAgICAgICAgLy8g5ZCv5Yqo5bel5YW354q25oCB5qOA5p+lCiAgICAgICAgICAgIHN0YXJ0U3RhdHVzQ2hlY2soKTsKCiAgICAgICAgICAgIC8vIOmmluWFiOWKoOi9vea4uOaIj+WIl+ihqAogICAgICAgICAgICBsb2FkR2FtZUxpc3QoKTsKCiAgICAgICAgICAgIC8vIOWKoOi9vUhUVFBETlPlsY/olL3nirbmgIEKICAgICAgICAgICAgbG9hZEh0dHBEbnNTdGF0dXMoKTsKCiAgICAgICAgICAgIC8vIOWmguaenOaciWdhbWVfaWTvvIzliqDovb3or6XmuLjmiI/nmoTotKblj7flkozorr7nva4KICAgICAgICAgICAgaWYgKGdhbWVfaWQpIHsKICAgICAgICAgICAgICAgIC8vIOWKoOi9veeZu+W9leW7tui/n+iuvue9rgogICAgICAgICAgICAgICAgbG9hZExvZ2luRGVsYXkoKTsKCiAgICAgICAgICAgICAgICBmZXRjaCgnL19pZHYtbG9naW4vbGlzdD9nYW1lX2lkPScgKyBnYW1lX2lkKQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFubmVsVGFibGVCb2R5Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub0FjY291bnRzRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vQWNjb3VudHMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhdGNoT3BlcmF0aW9uc0dyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoT3BlcmF0aW9uc0dyb3VwJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyDmuIXnqbrooajmoLwKICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVCb2R5LmlubmVySFRNTCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0FjY291bnRzRGl2LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmF0Y2hPcGVyYXRpb25zR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgLy8g5rKh5pyJ6LSm5Y+35pe26ZqQ6JeP5om56YeP5pON5L2cCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0FjY291bnRzRGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXRjaE9wZXJhdGlvbnNHcm91cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsgLy8g5pyJ6LSm5Y+35pe25pi+56S65om56YeP5pON5L2cCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGNoYW5uZWwgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenHV1aWTku6VuZXRlYXNl5byA5aS077yM5YiZ6Lez6L+H5LiN5pi+56S6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWwudXVpZC5zdGFydHNXaXRoKCduZXRlYXNlJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9IHRhYmxlQm9keS5pbnNlcnRSb3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cuaW5zZXJ0Q2VsbCgpLmlubmVySFRNTCA9IGA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGNsYXNzPSJhY2NvdW50LWNoZWNrYm94IiB2YWx1ZT0iJHtjaGFubmVsLnV1aWR9Ij5gOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXVpZENlbGwgPSByb3cuaW5zZXJ0Q2VsbCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWRDZWxsLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz0iYmFkZ2UgYmctbGlnaHQgdGV4dC1kYXJrIj4ke2NoYW5uZWwudXVpZH08L3NwYW4+YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkQ2VsbC50aXRsZSA9IGNoYW5uZWwudXVpZDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93Lmluc2VydENlbGwoKS5pbm5lckhUTUwgPSBjaGFubmVsLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93Lmluc2VydENlbGwoKS5pbm5lckhUTUwgPSBgPHNtYWxsPiR7dGltZVN0YW1wVG9Mb2NhbFRpbWUoY2hhbm5lbC5sYXN0X2xvZ2luX3RpbWUpfTwvc21hbGw+YDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGlvbnNDZWxsID0gcm93Lmluc2VydENlbGwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zQ2VsbC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjdGlvbnMtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjdGlvbi1idXR0b24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0ic3dpdGNoQ2hhbm5lbCgnJHtjaGFubmVsLnV1aWR9JykiIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1wcmltYXJ5IGJ0bi1hY3Rpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktYm94LWFycm93LWluLXJpZ2h0Ij48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImFjdGlvbi1sYWJlbCI+55m75b2VPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY3Rpb24tYnV0dG9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InJlbmFtZUNoYW5uZWwoJyR7Y2hhbm5lbC51dWlkfScpIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4taW5mbyBidG4tYWN0aW9uIHRleHQtd2hpdGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktcGVuY2lsIj48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImFjdGlvbi1sYWJlbCI+5pS55ZCNPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY3Rpb24tYnV0dG9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9ImRlbGV0ZUNoYW5uZWwoJyR7Y2hhbm5lbC51dWlkfScpIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tZGFuZ2VyIGJ0bi1hY3Rpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktdHJhc2giPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYWN0aW9uLWxhYmVsIj7liKDpmaQ8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjdGlvbi1idXR0b24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0iZGVmYXVsdENoYW5uZWwoJyR7Y2hhbm5lbC51dWlkfScpIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tc3VjY2VzcyBidG4tYWN0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLXN0YXIiPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYWN0aW9uLWxhYmVsIj7oh6rliqjnmbvlvZU8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWFqOmAieWKn+iDvQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdEFsbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY291bnQtY2hlY2tib3gnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveGVzLmZvckVhY2goY2hlY2tib3ggPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdGhpcy5jaGVja2VkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBmZXRjaCgnL19pZHYtbG9naW4vbWFudWFsQ2hhbm5lbHMnKQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYW5uZWxTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbm5lbFNlbGVjdCcpOwogICAgICAgICAgICAgICAgICAgICAgICAvLyDmuIXnqbrkuIvmi4nmoYYKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbFNlbGVjdC5pbm5lckhUTUwgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZm9yRWFjaChjaGFubmVsID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGNoYW5uZWwuY2hhbm5lbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi50ZXh0ID0gY2hhbm5lbC5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbFNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBmZXRjaCgnL19pZHYtbG9naW4vZGVmYXVsdENoYW5uZWw/Z2FtZV9pZD0nICsgZ2FtZV9pZCkKICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnV1aWQgIT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWZhdWx0JykuaW5uZXJUZXh0ID0gZGF0YS51dWlkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlZmF1bHQnKS5jbGFzc05hbWUgPSAnYmFkZ2UgYmctc3VjY2VzcyB0ZXh0LXdoaXRlIHAtMic7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVmYXVsdCcpLmlubmVyVGV4dCA9ICdFbXB0eSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVmYXVsdCcpLmNsYXNzTmFtZSA9ICdiYWRnZSBiZy1pbmZvIHRleHQtd2hpdGUgcC0yJzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vIOiOt+WPluiHquWKqOWFs+mXreeKtuaAgQogICAgICAgICAgICAgICAgZmV0Y2goYC9faWR2LWxvZ2luL2dldC1hdXRvLWNsb3NlLXN0YXRlP2dhbWVfaWQ9JHtnYW1lX2lkfWApCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVBdXRvQ2xvc2VCdXR0b24oZGF0YS5zdGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvLyDliqDovb3oh6rliqjlkK/liqjorr7nva4KICAgICAgICAgICAgICAgIGxvYWRBdXRvU3RhcnRTZXR0aW5ncygpOwogICAgICAgICAgICAgICAgbG9hZENsb3VkU3luY1NldHRpbmdzKCk7CiAgICAgICAgICAgICAgICBsb2FkTGF1bmNoZXJTdGF0dXMoKTsKICAgICAgICAgICAgICAgIGltcG9ydF9mcm9tX2ZldmVyX25vdyA9IGdldFF1ZXJ5VmFyaWFibGUoImltcG9ydF9mcm9tX2ZldmVyX25vdyIpOwogICAgICAgICAgICAgICAgaWYgKGltcG9ydF9mcm9tX2ZldmVyX25vdyE9IiIpIHsKICAgICAgICAgICAgICAgICAgICAvLyDop6blj5Hlr7zlhaXmk43kvZwKICAgICAgICAgICAgICAgICAgICBpbXBvcnRGZXZlckxhdW5jaGVyKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIOa3u+WKoOaWsOeahOWHveaVsAogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUF1dG9DbG9zZUJ1dHRvbihzdGF0ZSkgewogICAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0b0Nsb3NlQnRuJyk7CiAgICAgICAgICAgIGlmIChzdGF0ZSkgewogICAgICAgICAgICAgICAgYnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz0iYmkgYmktcG93ZXIgbWUtMSI+PC9pPueZu+W9leWQjuiHquWKqOWFs+mXreW3peWFt++8muW8gOWQr2A7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NOYW1lID0gJ2J0biBidG4tc3VjY2VzcyB3LTEwMCc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPSJiaSBiaS1wb3dlciBtZS0xIj48L2k+55m75b2V5ZCO6Ieq5Yqo5YWz6Zet5bel5YW377ya5YWz6ZetYDsKICAgICAgICAgICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSB3LTEwMCc7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHN3aXRjaEF1dG9DbG9zZSgpIHsKICAgICAgICAgICAgZ2FtZV9pZCA9IGdldFF1ZXJ5VmFyaWFibGUoImdhbWVfaWQiKTsKICAgICAgICAgICAgZmV0Y2goYC9faWR2LWxvZ2luL3N3aXRjaC1hdXRvLWNsb3NlLXN0YXRlP2dhbWVfaWQ9JHtnYW1lX2lkfWApCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUF1dG9DbG9zZUJ1dHRvbihkYXRhLnN0YXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZGF0YS5zdGF0ZSA/ICLoh6rliqjlhbPpl63lt7LlvIDlkK8iIDogIuiHquWKqOWFs+mXreW3suWFs+mXrSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhLnN0YXRlID8gIueZu+W9leaIkOWKn+WQjuWwhuiHquWKqOWFs+mXreW3peWFtyIgOiAi55m75b2V5ZCO5bel5YW35bCG5L+d5oyB6L+Q6KGMIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLliIfmjaLnirbmgIHlpLHotKUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBleHBvcnRMb2dzKCkgewogICAgICAgICAgICBjb25zdCBkb3dubG9hZExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgIGRvd25sb2FkTGluay5ocmVmID0gJy9faWR2LWxvZ2luL2V4cG9ydC1sb2dzJzsKICAgICAgICAgICAgZG93bmxvYWRMaW5rLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG93bmxvYWRMaW5rKTsKCiAgICAgICAgICAgIC8vIOebkeWQrOS4i+i9veWujOaIkAogICAgICAgICAgICBkb3dubG9hZExpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLml6Xlv5flr7zlh7rmiJDlip8iLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAi6LCD6K+V5pel5b+X5paH5Lu25bey5byA5aeL5LiL6L2944CC5YW25Lit5YyF5ZCr5pON5L2c57O757uf44CB6K6h566X5py644CBSVDjgIHlt7Llronoo4XlupTnlKjliJfooajjgIHov5vnqIvjgIHku6PnkIbnirbmgIHnrYnor4rmlq3kv6Hmga/vvIzliIbkuqvliY3or7fms6jmhI/kuKrkurrpmpDnp4HjgIIiLAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb3dubG9hZExpbmspOwogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8g6Kem5Y+R5LiL6L29CiAgICAgICAgICAgIGRvd25sb2FkTGluay5jbGljaygpOwogICAgICAgIH0KCiAgICAgICAgLy8gSFRUUEROU+Wxj+iUveWKn+iDveebuOWFs+WHveaVsAogICAgICAgIGZ1bmN0aW9uIGxvYWRIdHRwRG5zU3RhdHVzKCkgewogICAgICAgICAgICBmZXRjaCgnL19pZHYtbG9naW4vZ2V0LWh0dHBkbnMtc3RhdHVzJykKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h0dHBkbnNUb2dnbGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdodHRwZG5zU3RhdHVzVGV4dCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlLmNoZWNrZWQgPSBkYXRhLmVuYWJsZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSBkYXRhLmVuYWJsZWQgPyAn5bey5ZCv55SoJyA6ICflt7LnpoHnlKgnOwogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0LmNsYXNzTmFtZSA9IGRhdGEuZW5hYmxlZCA/ICd0ZXh0LXN1Y2Nlc3MnIDogJ3RleHQtd2FybmluZyc7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h0dHBkbnNTdGF0dXNUZXh0JykudGV4dENvbnRlbnQgPSAn6I635Y+W54q25oCB5aSx6LSl77yM6K+35pu05paw5bel5YW35Yiw5pyA5paw54mI5pysJzsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h0dHBkbnNTdGF0dXNUZXh0JykuY2xhc3NOYW1lID0gJ3RleHQtZGFuZ2VyJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5ZIVFRQRE5T54q25oCB5aSx6LSlOicsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaHR0cGRuc1N0YXR1c1RleHQnKS50ZXh0Q29udGVudCA9ICfojrflj5bnirbmgIHlpLHotKUnOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdodHRwZG5zU3RhdHVzVGV4dCcpLmNsYXNzTmFtZSA9ICd0ZXh0LWRhbmdlcic7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUh0dHBEbnNCbG9ja2luZygpIHsKICAgICAgICAgICAgY29uc3QgdG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h0dHBkbnNUb2dnbGUnKTsKICAgICAgICAgICAgY29uc3Qgc3RhdHVzVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdodHRwZG5zU3RhdHVzVGV4dCcpOwoKICAgICAgICAgICAgLy8g5pi+56S65YiH5o2i5Lit54q25oCBCiAgICAgICAgICAgIHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSAn5YiH5o2i5LitLi4uJzsKICAgICAgICAgICAgc3RhdHVzVGV4dC5jbGFzc05hbWUgPSAndGV4dC1pbmZvJzsKCiAgICAgICAgICAgIGZldGNoKCcvX2lkdi1sb2dpbi90b2dnbGUtaHR0cGRucy1ibG9ja2luZycsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOabtOaWsOeKtuaAgeaYvuekugogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gZGF0YS5lbmFibGVkID8gJ+W3suWQr+eUqCcgOiAn5bey56aB55SoJzsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dC5jbGFzc05hbWUgPSBkYXRhLmVuYWJsZWQgPyAndGV4dC1zdWNjZXNzJyA6ICd0ZXh0LXdhcm5pbmcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pi+56S65pON5L2c57uT5p6cCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlID0gZGF0YS5lbmFibGVkID8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdIVFRQRE5T5bGP6JS95bey5ZCv55So77yM5ri45oiP55qESFRUUEROU+acjeWKoeWwhuiiq+Wxj+iUvScgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0hUVFBETlPlsY/olL3lt7LnpoHnlKgnOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLmVuYWJsZWQgJiYgZGF0YS51bmJsb2NrX3Jlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnXG7pmLLngavlopnop4TliJnop6PpmaTnu5PmnpzvvJonICsgZGF0YS51bmJsb2NrX3Jlc3VsdDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZGF0YS5lbmFibGVkID8gIkhUVFBETlPlsY/olL3lt7LlkK/nlKgiIDogIkhUVFBETlPlsY/olL3lt7LnpoHnlKgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbWVzc2FnZSArIChkYXRhLndhcm5pbmcgPyAnXG5cbuKaoO+4jyAnICsgZGF0YS53YXJuaW5nIDogJycpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pON5L2c5aSx6LSl77yM5oGi5aSN5byA5YWz54q25oCBCiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZS5jaGVja2VkID0gIXRvZ2dsZS5jaGVja2VkOwogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gJ+WIh+aNouWksei0pe+8jOivt+abtOaWsOW3peWFt+WIsOacgOaWsOeJiOacrOW5tuajgOafpeaXpeW/lyc7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQuY2xhc3NOYW1lID0gJ3RleHQtZGFuZ2VyJzsKCiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLmk43kvZzlpLHotKUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZGF0YS5tZXNzYWdlIHx8ICLliIfmjaJIVFRQRE5T5bGP6JS954q25oCB5aSx6LSl77yM6K+35pu05paw5bel5YW35Yiw5pyA5paw54mI5pys5bm25qOA5p+l5pel5b+XIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b246ICLnoa7lrpoiLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfliIfmjaJIVFRQRE5T5bGP6JS95aSx6LSlOicsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAvLyDmk43kvZzlpLHotKXvvIzmgaLlpI3lvIDlhbPnirbmgIEKICAgICAgICAgICAgICAgICAgICB0b2dnbGUuY2hlY2tlZCA9ICF0b2dnbGUuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gJ+WIh+aNouWksei0pSc7CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dC5jbGFzc05hbWUgPSAndGV4dC1kYW5nZXInOwoKICAgICAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLnvZHnu5zplJnor68iLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAi5peg5rOV6L+e5o6l5Yiw5pyN5Yqh5Zmo77yM6K+35qOA5p+l572R57uc6L+e5o6lIiwKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8g5bel5YW354q25oCB5qOA5p+l5Yqf6IO9CiAgICAgICAgbGV0IHN0YXR1c0NoZWNrSW50ZXJ2YWwgPSBudWxsOwogICAgICAgIGxldCBkaXNjb25uZWN0ZWRDb3VudCA9IDA7CiAgICAgICAgbGV0IG92ZXJsYXlEaXNtaXNzZWQgPSBmYWxzZTsgIC8vIOagh+iusOeUqOaIt+aYr+WQpuW3suaJi+WKqOWFs+mXremBrue9qQogICAgICAgIGNvbnN0IEZBUV9VUkwgPSAnaHR0cHM6Ly93d3cueXVxdWUuY29tL2tleWdlbi9rZzJyNWsveGw5em9zcnd2aXljNTRudSc7CgogICAgICAgIGZ1bmN0aW9uIGNoZWNrVG9vbFN0YXR1cygpIHsKICAgICAgICAgICAgY29uc3Qgc3RhdHVzTGlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzTGlnaHQnKTsKICAgICAgICAgICAgY29uc3Qgc3RhdHVzVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXNUZXh0Jyk7CiAgICAgICAgICAgIGNvbnN0IHN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXNJbmRpY2F0b3InKTsKICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbk92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29ubmVjdGlvbk92ZXJsYXknKTsKCiAgICAgICAgICAgIGZldGNoKCcvX2lkdi1sb2dpbi9saXN0LWdhbWVzJykKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8g6L+e5o6l5oiQ5YqfCiAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdGVkQ291bnQgPSAwOwogICAgICAgICAgICAgICAgICAgIG92ZXJsYXlEaXNtaXNzZWQgPSBmYWxzZTsgIC8vIOmHjee9ruWFs+mXreagh+iusAogICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVSZXF1aXJlZCkgewogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNMaWdodC5jbGFzc05hbWUgPSAnc3RhdHVzLWxpZ2h0IHdhcm5pbmcnOwogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gJ+ivt+abtOaWsOW3peWFtyc7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci50aXRsZSA9ICflt6XlhbfniYjmnKzov4fml6fvvIzor7fmm7TmlrAnOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0xpZ2h0LmNsYXNzTmFtZSA9ICdzdGF0dXMtbGlnaHQgY29ubmVjdGVkJzsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9ICflt6Xlhbfov5DooYzkuK0nOwogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNJbmRpY2F0b3IudGl0bGUgPSAn5bel5YW36L+e5o6l5q2j5bi4JzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JzsKICAgICAgICAgICAgICAgICAgICBzdGF0dXNJbmRpY2F0b3Iub25jbGljayA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2Nvbm5lY3RlZC1zdGF0ZScpOwogICAgICAgICAgICAgICAgICAgIC8vIOmakOiXj+mBrue9qeWxggogICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uT3ZlcmxheSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8g6L+e5o6l5aSx6LSlCiAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdGVkQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICBzdGF0dXNMaWdodC5jbGFzc05hbWUgPSAnc3RhdHVzLWxpZ2h0IGRpc2Nvbm5lY3RlZCc7CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9ICflt6XlhbfmnKrov57mjqUnOwogICAgICAgICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci50aXRsZSA9ICflt6Xlhbfov57mjqXlpLHotKXvvIzngrnlh7vmn6XnnIvluLjop4Hpl67popjop6PnrZQnOwogICAgICAgICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoJ2Rpc2Nvbm5lY3RlZC1zdGF0ZScpOwogICAgICAgICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihGQVFfVVJMLCAnX2JsYW5rJyk7CiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c6L+e57ut5aSx6LSl6LaF6L+HNeenku+8iDXmrKHmo4Dmn6XvvInkuJTnlKjmiLfmnKrmiYvliqjlhbPpl63vvIzmmL7npLrlhajlsYDpga7nvakKICAgICAgICAgICAgICAgICAgICBpZiAoZGlzY29ubmVjdGVkQ291bnQgPj0gNSAmJiAhb3ZlcmxheURpc21pc3NlZCAmJiBjb25uZWN0aW9uT3ZlcmxheSAmJiAhY29ubmVjdGlvbk92ZXJsYXkuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93JykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbk92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnc2hvdycpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8g5omT5byARkFR5bm25YWz6Zet6YGu572p5bGCCiAgICAgICAgZnVuY3Rpb24gb3BlbkZBUUFuZENsb3NlT3ZlcmxheSgpIHsKICAgICAgICAgICAgd2luZG93Lm9wZW4oRkFRX1VSTCwgJ19ibGFuaycpOwogICAgICAgICAgICBkaXNtaXNzT3ZlcmxheSgpOwogICAgICAgIH0KCiAgICAgICAgLy8g5YWz6Zet6YGu572p5bGCCiAgICAgICAgZnVuY3Rpb24gZGlzbWlzc092ZXJsYXkoKSB7CiAgICAgICAgICAgIG92ZXJsYXlEaXNtaXNzZWQgPSB0cnVlOyAgLy8g5qCH6K6w55So5oi35bey5omL5Yqo5YWz6ZetCiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb25PdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nvbm5lY3Rpb25PdmVybGF5Jyk7CiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uT3ZlcmxheSkgewogICAgICAgICAgICAgICAgY29ubmVjdGlvbk92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDlkK/liqjnirbmgIHmo4Dmn6UKICAgICAgICBmdW5jdGlvbiBzdGFydFN0YXR1c0NoZWNrKCkgewogICAgICAgICAgICAvLyDnq4vljbPmiafooYzkuIDmrKHmo4Dmn6UKICAgICAgICAgICAgY2hlY2tUb29sU3RhdHVzKCk7CiAgICAgICAgICAgIC8vIOeEtuWQjuavjzHnp5Lmo4Dmn6XkuIDmrKEKICAgICAgICAgICAgc3RhdHVzQ2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKGNoZWNrVG9vbFN0YXR1cywgMTAwMCk7CiAgICAgICAgfQoKICAgICAgICAvLyDlgZzmraLnirbmgIHmo4Dmn6UKICAgICAgICBmdW5jdGlvbiBzdG9wU3RhdHVzQ2hlY2soKSB7CiAgICAgICAgICAgIGlmIChzdGF0dXNDaGVja0ludGVydmFsKSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHN0YXR1c0NoZWNrSW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgc3RhdHVzQ2hlY2tJbnRlcnZhbCA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIG1hbnVhbCgpIHsKICAgICAgICAgICAgLy/ojrflj5ZjaGFubmVsU2VsZWN055qE5YC8CiAgICAgICAgICAgIHZhciBzZWxlY3RlZENoYW5uZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbm5lbFNlbGVjdCcpLnZhbHVlOwoKICAgICAgICAgICAgaWYgKCFzZWxlY3RlZENoYW5uZWwpIHsKICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi6K+36YCJ5oup55m75b2V5rig6YGTIiwKICAgICAgICAgICAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQgcXJQb2xsVGltZXIgPSBudWxsOwogICAgICAgICAgICBjb25zdCBpc1dlY2hhdE15QXBwID0gc2VsZWN0ZWRDaGFubmVsID09PSAnbXlhcHAnOwoKICAgICAgICAgICAgZnVuY3Rpb24gc2hvd0xlZ2FjeU1hbnVhbExvYWRpbmdTd2FsKCkgewogICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLmraPlnKjlpITnkIYiLAogICAgICAgICAgICAgICAgICAgIHRleHQ6ICLmraPlnKjmiafooYzmiYvliqjnmbvlvZXvvIzor7fnqI3lgJkuLi7lpoLmnpzlnKjmraTnlYzpnaLlgZznlZnov4fkuYXvvIzor7flj4LogIPmlZnnqIvmlofmoaMtPuW4uOingemXrumimOino+WGs+aWueahiOmXrumimDE4IiwKICAgICAgICAgICAgICAgICAgICBpY29uOiAiaW5mbyIsCiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgY2xvc2VPbkNsaWNrT3V0c2lkZTogZmFsc2UsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc3RvcFFyY29kZVBvbGxpbmcoKSB7CiAgICAgICAgICAgICAgICBpZiAocXJQb2xsVGltZXIpIHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHFyUG9sbFRpbWVyKTsKICAgICAgICAgICAgICAgICAgICBxclBvbGxUaW1lciA9IG51bGw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHN0YXJ0UXJjb2RlUG9sbGluZygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9IndlY2hhdC1xcmNvZGUtc3RhdHVzIiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxMHB4O2NvbG9yOiM2Yzc1N2Q7Ij7mraPlnKjojrflj5bkuoznu7TnoIEuLi48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBpZD0id2VjaGF0LXFyY29kZS1pbWciIGFsdD0i5b6u5L+h5LqM57u056CBIiBzdHlsZT0ibWF4LXdpZHRoOjI2MHB4O3dpZHRoOjEwMCU7aGVpZ2h0OmF1dG87Ym9yZGVyOjFweCBzb2xpZCAjZTllY2VmO2JvcmRlci1yYWRpdXM6OHB4O2Rpc3BsYXk6bm9uZTttYXJnaW46MCBhdXRvOyIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDo4cHg7Zm9udC1zaXplOjEycHg7Y29sb3I6IzZjNzU3ZDsiPuivt+S9v+eUqOW+ruS/oeaJq+eggeWujOaIkOW6lOeUqOWuneeZu+W9lTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgYDsKCiAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuW+ruS/oeaJq+eggeeZu+W9lSIsCiAgICAgICAgICAgICAgICAgICAgY29udGVudCwKICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBjbG9zZU9uQ2xpY2tPdXRzaWRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBjbG9zZU9uRXNjOiBmYWxzZSwKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNvbnN0IHBvbGwgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2goYC9faWR2LWxvZ2luL3FyY29kZT9nYW1lX2lkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGdhbWVfaWQpfSZfdHM9JHtEYXRlLm5vdygpfWApCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWNoYXQtcXJjb2RlLXN0YXR1cycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VjaGF0LXFyY29kZS1pbWcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RhdHVzRWwgfHwgIWltZ0VsKSByZXR1cm47CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzTWFwID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkbGU6ICfnrYnlvoXlvIDlp4vnmbvlvZUuLi4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6ICfmraPlnKjojrflj5bkuoznu7TnoIEuLi4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWR5OiAn6K+35L2/55So5b6u5L+h5omr56CBJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FubmVkOiAn5omr56CB5oiQ5Yqf77yM5q2j5Zyo5qCh6aqMLi4uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZmllZDogJ+eZu+W9leagoemqjOaIkOWKn++8jOato+WcqOWujOaIkOWvvOWFpS4uLicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbGVkOiAn5omr56CB5qCh6aqM5aSx6LSl77yM6K+36YeN6K+VJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNFbC50ZXh0Q29udGVudCA9IHN0YXR1c01hcFtkYXRhLnN0YXR1c10gfHwgJ+ato+WcqOWkhOeQhi4uLic7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucXJjb2RlX2Jhc2U2NCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZ0VsLnNyYyA9IGBkYXRhOmltYWdlL3BuZztiYXNlNjQsJHtkYXRhLnFyY29kZV9iYXNlNjR9YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlY2hhdC1xcmNvZGUtc3RhdHVzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzRWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNFbC50ZXh0Q29udGVudCA9ICfkuoznu7TnoIHojrflj5blpLHotKXvvIzmraPlnKjph43or5UuLi4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgcG9sbCgpOwogICAgICAgICAgICAgICAgcXJQb2xsVGltZXIgPSBzZXRJbnRlcnZhbChwb2xsLCAxMDAwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGlzV2VjaGF0TXlBcHApIHsKICAgICAgICAgICAgICAgIGZldGNoKGAvX2lkdi1sb2dpbi9xcmNvZGU/Z2FtZV9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChnYW1lX2lkKX0mX3RzPSR7RGF0ZS5ub3coKX1gKQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93TGVnYWN5TWFudWFsTG9hZGluZ1N3YWwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBzdGFydFFyY29kZVBvbGxpbmcoKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dMZWdhY3lNYW51YWxMb2FkaW5nU3dhbCgpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd0xlZ2FjeU1hbnVhbExvYWRpbmdTd2FsKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZldGNoKGAvX2lkdi1sb2dpbi9pbXBvcnQ/Y2hhbm5lbD0ke3NlbGVjdGVkQ2hhbm5lbH0mZ2FtZV9pZD0ke2dhbWVfaWR9YCkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIHN0b3BRcmNvZGVQb2xsaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgc3dhbC5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuaJp+ihjOaIkOWKnyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAi55m75b2V5pON5L2c5bey5a6M5oiQIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLmiafooYzlpLHotKUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogIuivt+ajgOafpeW3peWFt+aXpeW/l+iOt+WPluivpue7huS/oeaBryIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgc3RvcFFyY29kZVBvbGxpbmcoKTsKICAgICAgICAgICAgICAgICAgICBzd2FsLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5omn6KGM5aSx6LSlIiwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogIuivt+axguWksei0pe+8jOivt+ajgOafpeW3peWFt+aXpeW/l+iOt+WPluivpue7huS/oeaBryIsCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICA8L3NjcmlwdD4KCiAgICA8IS0tIENsb3VkIFN5bmMgV2l6YXJkIE1vZGFsIC0tPgogICAgPGRpdiBjbGFzcz0ibW9kYWwgZmFkZSIgaWQ9ImNsb3VkU3luY1dpemFyZE1vZGFsIiB0YWJpbmRleD0iLTEiIGRhdGEtYnMtYmFja2Ryb3A9InN0YXRpYyIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWRpYWxvZyBtb2RhbC1kaWFsb2ctY2VudGVyZWQgbW9kYWwtbGciPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciBiZy1saWdodCI+CiAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPSJtb2RhbC10aXRsZSI+PGkgY2xhc3M9ImJpIGJpLW1hZ2ljIG1lLTIiPjwvaT7kupHlkIzmraXphY3nva7lkJHlr7w8L2g1PgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuLWNsb3NlIiBkYXRhLWJzLWRpc21pc3M9Im1vZGFsIiBhcmlhLWxhYmVsPSJDbG9zZSI+PC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkgcC00Ij4KICAgICAgICAgICAgICAgICAgICA8IS0tIFByb2dyZXNzIEJhciAtLT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzcyBtYi00IiBzdHlsZT0iaGVpZ2h0OiA1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MtYmFyIiByb2xlPSJwcm9ncmVzc2JhciIgaWQ9IndpemFyZFByb2dyZXNzQmFyIiBzdHlsZT0id2lkdGg6IDI1JSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgIDwhLS0gU3RlcCAxOiBJbnRybyArIE1vZGUgLS0+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0id2l6YXJkLXN0ZXAiIGlkPSJ3aXphcmRTdGVwMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRleHQtY2VudGVyIG1iLTQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLWNsb3VkLWFycm93LXVwIHRleHQtcHJpbWFyeSIgc3R5bGU9ImZvbnQtc2l6ZTogM3JlbTsiPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0ibXQtMyI+5qyi6L+O5L2/55So5LqR5ZCM5q2lPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJ0ZXh0LW11dGVkIj7mnKzlkJHlr7zlsIbluK7liqnmgqjlv6vpgJ/phY3nva7muKDpgZPmnI3otKblj7flkIzmraXlip/og73jgII8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC1pbmZvIGJvcmRlci0wIGJnLXNvZnQtaW5mbyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkLWZsZXgiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJiaSBiaS1zaGllbGQtbG9jay1maWxsIGZzLTQgbWUtMyI+PC9pPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNT7kvb/nlKjpobvnn6U8L2g1PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibWItMCBzbWFsbCI+57O757uf5L2/55So6auY5by65bqmIEFFUy1TSVYg5Yqg5a+G5pa55qGI44CC5oKo55qE5omA5pyJ5pWw5o2u5Zyo5Y+R6YCB5Yiw5LqR56uv5YmN6YO95Lya6KKr5Yqg5a+G44CC5LqR56uv5pyN5Yqh5Zmo77yIV2ViTm90Ze+8ieS7heWtmOWCqOWvhuaWh++8jOaXoOazleafpeeci+aCqOeahOi0puWPt+S/oeaBr+OAgjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1jaGVjayBtdC0yIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0iZm9ybS1jaGVjay1pbnB1dCIgdHlwZT0iY2hlY2tib3giIGlkPSJ3aXphcmRQb2xpY3lBY2siPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWNoZWNrLWxhYmVsIHNtYWxsIiBmb3I9IndpemFyZFBvbGljeUFjayI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5oiR5bey6ZiF6K+75bm25ZCM5oSPCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cueXVxdWUuY29tL2tleWdlbi9rZzJyNWsvcHZiMm1kbWEyenBxNDQyZyIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJ0ZXh0LWRlY29yYXRpb24tbm9uZSI+6K+m57uG6K+05piO5ZKM6ZqQ56eB5pS/562WPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im10LTMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIGZ3LWJvbGQiPuivt+mAieaLqeS9v+eUqOWcuuaZrzwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPSJmb3JtLXNlbGVjdCIgaWQ9IndpemFyZE1vZGUiIG9uY2hhbmdlPSJ3aXphcmRPbk1vZGVDaGFuZ2UoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iaW1wb3J0X2V4aXN0aW5nIj7lr7zlhaXlt7LmnInlkIzmraXvvIjmiJHlnKjlhbbku5borr7lpIfkuIrlt7LphY3nva7ov4fvvIk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJuZXdfc2V0dXAiPuaIkei/mOacquiuvue9rui/h+WQjOatpTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgICAgICA8IS0tIFN0ZXAgMjogTWFzdGVyIEtleSAtLT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3aXphcmQtc3RlcCIgaWQ9IndpemFyZFN0ZXAyIiBzdHlsZT0iZGlzcGxheTpub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz0ibWItMyI+6K6+572u5Li75a+G6ZKlPC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9InRleHQtbXV0ZWQgc21hbGwiPuS4u+WvhumSpeaYr+ino+WvhuaVsOaNrueahOWUr+S4gOWHreivgeOAguS4uuS6huWuieWFqO+8jOaIkeS7rOS4jeWtmOWCqOS4u+WvhumSpeaYjuaWh++8iOmZpOmdnuaCqOmAieaLqeacrOWcsOiusOS9j++8ieOAgjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgYmctbGlnaHQgYm9yZGVyLTAgbWItNCIgaWQ9IndpemFyZEdlbmVyYXRlQ2FyZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkgdGV4dC1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSBidG4tbGcgbWItMyIgb25jbGljaz0id2l6YXJkR2VuS2V5KCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktZGljZS01IG1lLTIiPjwvaT7nlJ/miJDpq5jlvLrluqbpmo/mnLrlr4bpkqUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJ3aXphcmRLZXlEaXNwbGF5QXJlYSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiIGNsYXNzPSJtdC0yIHRleHQtc3RhcnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0idGV4dC1kYW5nZXIgZnctYm9sZCBtYi0yIHRleHQtY2VudGVyIj48aSBjbGFzcz0iYmkgYmktZXhjbGFtYXRpb24tdHJpYW5nbGUgbWUtMSI+PC9pPuivt+WKoeW/heeri+WNs+WkjeWItuW5tuS/neWtmOS4i+aWueWvhumSpe+8mjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icC0zIGJnLXdoaXRlIGJvcmRlciByb3VuZGVkIHNoYWRvdy1zbSBwb3NpdGlvbi1yZWxhdGl2ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9ImZvbnQtbW9ub3NwYWNlIHRleHQtYnJlYWsgbWItMCB0ZXh0LXByaW1hcnkgdXNlci1zZWxlY3QtYWxsIHRleHQtY2VudGVyIiBpZD0id2l6YXJkS2V5VGV4dCI+PC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc20gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IHBvc2l0aW9uLWFic29sdXRlIHRvcC0wIGVuZC0wIG0tMiIgb25jbGljaz0iY29weVdpemFyZEtleSgpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktY2xpcGJvYXJkIj48L2k+IOWkjeWItgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtdC0yIHRleHQtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tbGluayBidG4tc20gdGV4dC1kZWNvcmF0aW9uLW5vbmUiIG9uY2xpY2s9IndpemFyZFRyaWdnZXJUeHREb3dubG9hZCgpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktZmlsZS1lYXJtYXJrLWFycm93LWRvd24iPjwvaT4g5LiL6L295Li65paH5pys5paH5Lu2CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi0zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+5oiW5omL5Yqo6L6T5YWl5a+G6ZKl77yaPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0id2l6YXJkS2V5SW5wdXQiIHBsYWNlaG9sZGVyPSLlnKjmraTnspjotLTmiJbovpPlhaXkuLvlr4bpkqUiIG9uaW5wdXQ9InZhbGlkYXRlV2l6YXJkS2V5KCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0id2l6YXJkS2V5RmVlZGJhY2siIGNsYXNzPSJmb3JtLXRleHQiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibXQtMiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImZpbGUiIGlkPSJ3aXphcmRLZXlGaWxlSW5wdXQiIGFjY2VwdD0iLnR4dCx0ZXh0L3BsYWluIiBzdHlsZT0iZGlzcGxheTpub25lOyIgb25jaGFuZ2U9IndpemFyZEltcG9ydEtleUZpbGUoZXZlbnQpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXNtIiBvbmNsaWNrPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkS2V5RmlsZUlucHV0JykuY2xpY2soKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJiaSBiaS11cGxvYWQgbWUtMSI+PC9pPuS7juaWh+acrOaWh+S7tuWvvOWFpeS4u+WvhumSpQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWxlcnQgYWxlcnQtc2Vjb25kYXJ5IHB5LTIiIGlkPSJ3aXphcmRQcm9iZVJlc3VsdCIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwgZnctYm9sZCI+5piv5ZCm5Zyo5pys5Zyw6K6w5L2P5Li75a+G6ZKl77yfPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9ImZvcm0tc2VsZWN0IiBpZD0id2l6YXJkUmVtZW1iZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im1hc3Rlcl9rZXkiPuaYr++8jOiusOS9j+S4u+WvhumSpSAo5o6o6I2Q5Liq5Lq655S16ISR5L2/55SoKTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im5vbmUiPuWQpu+8jOavj+asoeWQjOatpemDvemcgOimgeaJi+WKqOi+k+WFpSAo5YWs55So55S16ISR5o6o6I2QKTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgICAgICA8IS0tIFN0ZXAgMzogT3B0aW9ucyAtLT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3aXphcmQtc3RlcCIgaWQ9IndpemFyZFN0ZXAzIiBzdHlsZT0iZGlzcGxheTpub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz0ibWItMyI+5ZCM5q2l6YCJ6aG56K6+572uPC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93IGctMyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtNiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7otKblj7fojIPlm7Q8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9ImZvcm0tc2VsZWN0IiBpZD0id2l6YXJkU2NvcGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJhbGwiPuaJgOaciea4uOaIj+eahOaJgOaciei0puWPtzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJjdXJyZW50X2dhbWUiIHNlbGVjdGVkPuS7heW9k+WJjemAieaLqeeahOa4uOaIjzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJzZWxlY3RlZCI+5LuF5YiX6KGo5Yu+6YCJ55qE6LSm5Y+3PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC02Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPuS6keerr+aVsOaNruS/neeVmeaXtumVvzwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz0iZm9ybS1zZWxlY3QiIGlkPSJ3aXphcmRFeHBpcmUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIzNjAwIj4x5bCP5pe2PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjIxNjAwIj425bCP5pe2PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Ijg2NDAwIj4x5aSpPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjI1OTIwMCIgc2VsZWN0ZWQ+M+WkqSAo6buY6K6kKTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSI2MDQ4MDAiPjHlkag8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMjU5MjAwMCI+MeS4quaciDwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSI3Nzc2MDAwIj4z5Liq5pyIPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjE1NTUyMDAwIj7ljYrlubQ8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMzE1MzYwMDAiPjHlubQ8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTYiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+5ZCM5q2l5pa55ZCRPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPSJmb3JtLXNlbGVjdCIgaWQ9IndpemFyZERpcmVjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9InB1bGwiPuWNleWQkeS4i+i9ve+8iOS6keerr+KGkuacrOWcsO+8iTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJwdXNoIj7ljZXlkJHkuIrkvKDvvIjmnKzlnLDihpLkupHnq6/vvIk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYmlkaXJlY3Rpb25hbCIgc2VsZWN0ZWQ+5Y+M5ZCR5ZCM5q2lPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC0xMiBtdC00Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIGJvcmRlci1wcmltYXJ5IG1iLTMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1jaGVjayBmb3JtLXN3aXRjaCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNoZWNrLWlucHV0IiB0eXBlPSJjaGVja2JveCIgaWQ9IndpemFyZEF1dG9TeW5jIiBjaGVja2VkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1jaGVjay1sYWJlbCBmdy1ib2xkIiBmb3I9IndpemFyZEF1dG9TeW5jIj7lkK/nlKjoh6rliqjlkIzmraU8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0idGV4dC1tdXRlZCBzbWFsbCBtYi0wIG10LTEiPuW8gOWQr+WQju+8jOavj+asoeKAnOeZu+W9lea4uOaIj+KAneaIkOWKn+aXtuiHquWKqOS4iuS8oO+8jOWQr+WKqOW3peWFt+aXtuiHquWKqOWwneivleS4i+i9veabtOaWsOOAgjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgIDwhLS0gU3RlcCA0OiBDb25maXJtIC0tPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IndpemFyZC1zdGVwIiBpZD0id2l6YXJkU3RlcDQiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGV4dC1jZW50ZXIgbWItNCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktY2hlY2stY2lyY2xlIHRleHQtc3VjY2VzcyIgc3R5bGU9ImZvbnQtc2l6ZTogM3JlbTsiPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0ibXQtMyI+5YeG5aSH5bCx57uqPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFsZXJ0IGFsZXJ0LXdhcm5pbmciPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg2IGNsYXNzPSJhbGVydC1oZWFkaW5nIj48aSBjbGFzcz0iYmkgYmktZXhjbGFtYXRpb24tY2lyY2xlIG1lLTEiPjwvaT7mnIDlkI7noa7orqQ8L2g2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJtYi0wIHNtYWxsIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+6K+356Gu6K6k5oKo5bey57uP5L+d5a2Y5aW95LqG5Li75a+G6ZKl44CC5aaC5p6c5Lii5aSx77yM5rKh5Lq66IO95biu5oKo5om+5Zue5pWw5o2u44CCPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+6YWN572u5a6M5oiQ5ZCO77yM5oKo5Y+v5Lul6ZqP5pe25Zyo5Li755WM6Z2i6LCD5pW06L+Z5Lqb6K6+572u44CCPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWNoZWNrIG1iLTMgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9ImZvcm0tY2hlY2staW5wdXQiIHR5cGU9ImNoZWNrYm94IiBpZD0id2l6YXJkUnVuTm93IiBjaGVja2VkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1jaGVjay1sYWJlbCIgZm9yPSJ3aXphcmRSdW5Ob3ciPuWujOaIkOWQjueri+WNs+aJp+ihjOS4gOasoeWQjOatpTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciBiZy1saWdodCI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IiBpZD0iYnRuV2l6YXJkUHJldiIgb25jbGljaz0id2l6YXJkTW92ZSgtMSkiIGRpc2FibGVkPuS4iuS4gOatpTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IHB4LTQiIGlkPSJidG5XaXphcmROZXh0IiBvbmNsaWNrPSJ3aXphcmRNb3ZlKDEpIj7kuIvkuIDmraU8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyBweC00IiBpZD0iYnRuV2l6YXJkRmluaXNoIiBvbmNsaWNrPSJ3aXphcmRGaW5pc2goKSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPuWujOaIkOW5tuS/neWtmDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICAKICAgIDxzY3JpcHQ+CiAgICAgICAgbGV0IHdpemFyZEN1cnJlbnRTdGVwID0gMTsKICAgICAgICBsZXQgd2l6YXJkRG93bmxvYWRUb2tlbiA9IG51bGw7CiAgICAgICAgbGV0IHdpemFyZFJlbW90ZVByb2JlID0gbnVsbDsKCiAgICAgICAgZnVuY3Rpb24gc2hvd0Nsb3VkU3luY1dpemFyZCgpIHsKICAgICAgICAgICAgY29uc3QgbW9kYWxFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG91ZFN5bmNXaXphcmRNb2RhbCcpOwogICAgICAgICAgICBpZiAoIW1vZGFsRWwpIHsKICAgICAgICAgICAgICAgIHN3YWwoJ+mUmeivrycsICfmnKrmib7liLDkupHlkIzmraXlkJHlr7znqpflj6PvvIzor7fliLfmlrDpobXpnaLlkI7ph43or5UnLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBtb2RhbCA9IG5ldyBib290c3RyYXAuTW9kYWwobW9kYWxFbCk7CiAgICAgICAgICAgIHdpemFyZEN1cnJlbnRTdGVwID0gMTsKICAgICAgICAgICAgd2l6YXJkRG93bmxvYWRUb2tlbiA9IG51bGw7CiAgICAgICAgICAgIHdpemFyZFJlbW90ZVByb2JlID0gbnVsbDsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZE1vZGUnKS52YWx1ZSA9ICdpbXBvcnRfZXhpc3RpbmcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkS2V5SW5wdXQnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkS2V5RmlsZUlucHV0JykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZEtleURpc3BsYXlBcmVhJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZEtleVRleHQnKS5pbm5lclRleHQgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZFByb2JlUmVzdWx0Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZFByb2JlUmVzdWx0JykuaW5uZXJUZXh0ID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXphcmRQb2xpY3lBY2snKS5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXphcmRSdW5Ob3cnKS5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgd2l6YXJkT25Nb2RlQ2hhbmdlKCk7CiAgICAgICAgICAgIF91cGRhdGVXaXphcmRVSSgpOwogICAgICAgICAgICBtb2RhbC5zaG93KCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB3aXphcmRPbk1vZGVDaGFuZ2UoKSB7CiAgICAgICAgICAgIGNvbnN0IG1vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkTW9kZScpLnZhbHVlOwogICAgICAgICAgICBjb25zdCBnZW5lcmF0ZUNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkR2VuZXJhdGVDYXJkJyk7CiAgICAgICAgICAgIGNvbnN0IGtleURpc3BsYXlBcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZEtleURpc3BsYXlBcmVhJyk7CiAgICAgICAgICAgIGlmIChtb2RlID09PSAnaW1wb3J0X2V4aXN0aW5nJykgewogICAgICAgICAgICAgICAgaWYgKGdlbmVyYXRlQ2FyZCkgZ2VuZXJhdGVDYXJkLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICBpZiAoa2V5RGlzcGxheUFyZWEpIGtleURpc3BsYXlBcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoZ2VuZXJhdGVDYXJkKSBnZW5lcmF0ZUNhcmQuc3R5bGUuZGlzcGxheSA9ICcnOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB3aXphcmRJbXBvcnRLZXlGaWxlKGV2ZW50KSB7CiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmZpbGVzID8gZXZlbnQudGFyZ2V0LmZpbGVzWzBdIDogbnVsbDsKICAgICAgICAgICAgaWYgKCFmaWxlKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChsb2FkRXZlbnQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHJhdyA9IFN0cmluZygobG9hZEV2ZW50ICYmIGxvYWRFdmVudC50YXJnZXQgJiYgbG9hZEV2ZW50LnRhcmdldC5yZXN1bHQpIHx8ICcnKTsKICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gcmF3Lm1hdGNoKC9tYXN0ZXJfa2V5XHMqPVxzKihbXlxyXG5dKykvaSk7CiAgICAgICAgICAgICAgICBsZXQgcGFyc2VkS2V5ID0gJyc7CiAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHsKICAgICAgICAgICAgICAgICAgICBwYXJzZWRLZXkgPSBtYXRjaFsxXS50cmltKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHBhcnNlZEtleSA9IHJhdy50cmltKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZEtleSkgewogICAgICAgICAgICAgICAgICAgIHN3YWwoJ+WvvOWFpeWksei0pScsICfmnKrlnKjmlofmnKzkuK3op6PmnpDliLDkuLvlr4bpkqXvvIzor7fmo4Dmn6Xmlofku7blhoXlrrknLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkS2V5SW5wdXQnKS52YWx1ZSA9IHBhcnNlZEtleTsKICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkID0gdmFsaWRhdGVXaXphcmRLZXkoKTsKICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIHN3YWwoJ+WvvOWFpeaIkOWKnycsICflt7Lku47mlofku7bkuK3or7vlj5bkuLvlr4bpkqUnLCAnc3VjY2VzcycpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzd2FsKCflt7Llr7zlhaUnLCAn5bey6K+75Y+W5Yiw5Li75a+G6ZKl77yM5L2G5by65bqm5LiN56ym5ZCI6KaB5rGC77yM6K+356Gu6K6k5paH5Lu25piv5ZCm5q2j56GuJywgJ3dhcm5pbmcnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBzd2FsKCflr7zlhaXlpLHotKUnLCAn6K+75Y+W5paH5Lu25aSx6LSl77yM6K+36YeN6K+VJywgJ2Vycm9yJyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUsICd1dGYtOCcpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gX3VwZGF0ZVdpemFyZFVJKCkgewogICAgICAgICAgICAvLyBIaWRlIGFsbCBzdGVwcwogICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA0OyBpKyspIHsKICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXBFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB3aXphcmRTdGVwJHtpfWApOwogICAgICAgICAgICAgICAgaWYgKHN0ZXBFbCkgewogICAgICAgICAgICAgICAgICAgIHN0ZXBFbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIFNob3cgY3VycmVudAogICAgICAgICAgICBjb25zdCBjdXJyZW50U3RlcEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHdpemFyZFN0ZXAke3dpemFyZEN1cnJlbnRTdGVwfWApOwogICAgICAgICAgICBpZiAoY3VycmVudFN0ZXBFbCkgewogICAgICAgICAgICAgICAgY3VycmVudFN0ZXBFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVXBkYXRlIFByb2dyZXNzCiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkUHJvZ3Jlc3NCYXInKTsKICAgICAgICAgICAgaWYgKHByb2dyZXNzRWwpIHsKICAgICAgICAgICAgICAgIHByb2dyZXNzRWwuc3R5bGUud2lkdGggPSBgJHt3aXphcmRDdXJyZW50U3RlcCAqIDI1fSVgOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBVcGRhdGUgQnV0dG9ucwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuV2l6YXJkUHJldicpLmRpc2FibGVkID0gKHdpemFyZEN1cnJlbnRTdGVwID09PSAxKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICh3aXphcmRDdXJyZW50U3RlcCA9PT0gNCkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bldpemFyZE5leHQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bldpemFyZEZpbmlzaCcpLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5XaXphcmROZXh0Jykuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bldpemFyZEZpbmlzaCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlV2l6YXJkS2V5KCkgewogICAgICAgICAgICBjb25zdCBrZXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkS2V5SW5wdXQnKS52YWx1ZTsKICAgICAgICAgICAgY29uc3QgaW5mbyA9IF9ldmFsdWF0ZU1hc3RlcktleVN0cmVuZ3RoKGtleSk7CiAgICAgICAgICAgIGNvbnN0IGZiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZEtleUZlZWRiYWNrJyk7CiAgICAgICAgICAgIGlmICgha2V5KSB7CiAgICAgICAgICAgICAgICBmYi5pbm5lclRleHQgPSAnJzsKICAgICAgICAgICAgICAgIGZiLmNsYXNzTmFtZSA9ICdmb3JtLXRleHQnOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpbmZvLnZhbGlkKSB7CiAgICAgICAgICAgICAgICBmYi5pbm5lclRleHQgPSAn5a+G6ZKl5by65bqm5ZCI5qC8JzsKICAgICAgICAgICAgICAgIGZiLmNsYXNzTmFtZSA9ICdmb3JtLXRleHQgdGV4dC1zdWNjZXNzJzsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZmIuaW5uZXJUZXh0ID0gJ+WvhumSpeW8uuW6puS4jei2syAo6ZyAMTLkvY3ku6XkuIrkuJTlkKsz57G75a2X56ymKSc7CiAgICAgICAgICAgICAgICBmYi5jbGFzc05hbWUgPSAnZm9ybS10ZXh0IHRleHQtZGFuZ2VyJzsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gd2l6YXJkR2VuS2V5KCkgewogICAgICAgICAgICAgZmV0Y2goJy9faWR2LWxvZ2luL2Nsb3VkLXN5bmMvZ2VuZXJhdGUtbWFzdGVyLWtleScsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGxlbmd0aDogMTYgfSksCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKHIgPT4gci5qc29uKCkpCiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGRhdGEubWFzdGVyX2tleTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkS2V5SW5wdXQnKS52YWx1ZSA9IGtleTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkS2V5VGV4dCcpLmlubmVyVGV4dCA9IGtleTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkS2V5RGlzcGxheUFyZWEnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgICAgICB3aXphcmREb3dubG9hZFRva2VuID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZVdpemFyZEtleSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHdpemFyZFRyaWdnZXJUeHREb3dubG9hZCgpIHsKICAgICAgICAgICAgY29uc3Qga2V5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZEtleUlucHV0JykudmFsdWU7CiAgICAgICAgICAgIF9kb3dubG9hZENsb3VkU3luY01hc3RlcktleVR4dChrZXkpOwogICAgICAgIH0gICAgCgogICAgICAgIGZ1bmN0aW9uIGNvcHlXaXphcmRLZXkoKSB7CiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkS2V5VGV4dCcpLmlubmVyVGV4dDsKICAgICAgICAgICAgaWYoIXRleHQpIHJldHVybjsKICAgICAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICBzd2FsKCflt7LlpI3liLYnLCAn5a+G6ZKl5bey5aSN5Yi25Yiw5Ymq6LS05p2/JywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB3aXphcmRNb3ZlKGRlbHRhKSB7CiAgICAgICAgICAgIGlmIChkZWx0YSA+IDApIHsKICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRpb24gYmVmb3JlIG1vdmluZyBuZXh0CiAgICAgICAgICAgICAgICBpZiAod2l6YXJkQ3VycmVudFN0ZXAgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2xpY3lBY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkUG9saWN5QWNrJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFwb2xpY3lBY2sgfHwgIXBvbGljeUFjay5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoJ+aPkOekuicsICfor7fku5Tnu4bpmIXor7vor6bnu4bor7TmmI7lkozpmpDnp4HmlL/nrZbvvIzlpoLmnpzmgqjkuI3lkIzmhI/vvIzmiJHku6zml6Dms5XkuLrmgqjmj5DkvpvmnI3liqHjgIInLCAnd2FybmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF9zZXRDbG91ZFN5bmNQb2xpY3lBY2tlZCh0cnVlKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZE1vZGUnKS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkRGlyZWN0aW9uJykudmFsdWUgPSBtb2RlID09PSAnaW1wb3J0X2V4aXN0aW5nJyA/ICdwdWxsJyA6ICdiaWRpcmVjdGlvbmFsJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh3aXphcmRDdXJyZW50U3RlcCA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0ZVdpemFyZEtleSgpOwogICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2FsKCflr4bpkqXml6DmlYgnLCAn6K+36L6T5YWl5oiW55Sf5oiQ5LiA5Liq56ym5ZCI5by65bqm6KaB5rGC55qE5Li75a+G6ZKlJywgJ3dhcm5pbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZE1vZGUnKS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ2ltcG9ydF9leGlzdGluZycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZEtleUlucHV0JykudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2JlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkUHJvYmVSZXN1bHQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmVFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmVFbC5jbGFzc05hbWUgPSAnYWxlcnQgYWxlcnQtc2Vjb25kYXJ5IHB5LTInOwogICAgICAgICAgICAgICAgICAgICAgICBwcm9iZUVsLmlubmVyVGV4dCA9ICfmraPlnKjmjqLmtYvkupHnq6/lt7LmnInlkIzmraXvvIzor7fnqI3lgJkuLi4nOwogICAgICAgICAgICAgICAgICAgICAgICBmZXRjaCgnL19pZHYtbG9naW4vY2xvdWQtc3luYy9wcm9iZScsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG1hc3Rlcl9rZXk6IGtleSB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHIgPT4gci5qc29uKCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9iZUVsLmNsYXNzTmFtZSA9ICdhbGVydCBhbGVydC1kYW5nZXIgcHktMic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JlRWwuaW5uZXJUZXh0ID0gYOaOoua1i+Wksei0pe+8miR7ZGF0YS5lcnJvciB8fCAn5pyq55+l6ZSZ6K+vJ31gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvciB8fCAncHJvYmVfZmFpbGVkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpemFyZFJlbW90ZVByb2JlID0gZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5leGlzdHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmVFbC5jbGFzc05hbWUgPSAnYWxlcnQgYWxlcnQtc3VjY2VzcyBweS0yJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmVFbC5pbm5lclRleHQgPSBg5bey5om+5Yiw5LqR56uv5ZCM5q2l6K6w5b2V77yM5LqR56uv6LSm5Y+357qmICR7ZGF0YS5yZW1vdGVfY2hhbm5lbHNfY291bnQgfHwgMH0g5Liq44CC5bu66K6u5YWI5omn6KGM4oCc5Y2V5ZCR5LiL6L2977yI5LqR56uv4oaS5pys5Zyw77yJ4oCd44CCYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChkYXRhLnJlbW90ZV9jaGFubmVsc19jb3VudCB8fCAwKSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXphcmREaXJlY3Rpb24nKS52YWx1ZSA9ICdwdWxsJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXphcmRDdXJyZW50U3RlcCArPSBkZWx0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpemFyZEN1cnJlbnRTdGVwIDwgMSkgd2l6YXJkQ3VycmVudFN0ZXAgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2l6YXJkQ3VycmVudFN0ZXAgPiA0KSB3aXphcmRDdXJyZW50U3RlcCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF91cGRhdGVXaXphcmRVSSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JlRWwuY2xhc3NOYW1lID0gJ2FsZXJ0IGFsZXJ0LXdhcm5pbmcgcHktMic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JlRWwuaW5uZXJUZXh0ID0gKGRhdGEubWVzc2FnZSB8fCAn5pyq5Y+R546w5LqR56uv5ZCM5q2l6K6w5b2VJykgKyAn44CC5b2T5YmN5piv4oCc5a+85YWl5bey5pyJ5ZCM5q2l4oCd77yM6K+35pS56YCJ4oCc5oiR6L+Y5pyq6K6+572u6L+H5ZCM5q2l4oCd5ZCO57un57ut44CCJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZERpcmVjdGlvbicpLnZhbHVlID0gJ3B1c2gnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2FsKCfmnKrmib7liLDlt7LmnInlkIzmraUnLCAn5LqR56uv5LiN5a2Y5Zyo6K+l5Li75a+G6ZKl5a+55bqU55qE5ZCM5q2l6K6w5b2V44CC6K+35YiH5o2i5Yiw4oCc5oiR6L+Y5pyq6K6+572u6L+H5ZCM5q2l4oCd57un57ut44CCJywgJ3dhcm5pbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9iZUVsLmNsYXNzTmFtZSA9ICdhbGVydCBhbGVydC1kYW5nZXIgcHktMic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9iZUVsLmlubmVyVGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9iZUVsLmlubmVyVGV4dCA9ICfmjqLmtYvlpLHotKXvvIzor7fnqI3lkI7ph43or5UnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHdpemFyZEN1cnJlbnRTdGVwICs9IGRlbHRhOwogICAgICAgICAgICBpZiAod2l6YXJkQ3VycmVudFN0ZXAgPCAxKSB3aXphcmRDdXJyZW50U3RlcCA9IDE7CiAgICAgICAgICAgIGlmICh3aXphcmRDdXJyZW50U3RlcCA+IDQpIHdpemFyZEN1cnJlbnRTdGVwID0gNDsKICAgICAgICAgICAgX3VwZGF0ZVdpemFyZFVJKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB3aXphcmRGaW5pc2goKSB7CiAgICAgICAgICAgIGlmICghX2Vuc3VyZUNsb3VkU3luY1BvbGljeUFja2VkKCkpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gRmlsbCBtYWluIGZvcm0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3VkU3luY01hc3RlcktleScpLnZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZEtleUlucHV0JykudmFsdWU7CiAgICAgICAgICAgIC8vIHNldCByZW1lbWJlciBsZXZlbCB0byBtYXN0ZXJfa2V5IGlmIHVzZXIgc2VsZWN0ZWQgaXQKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3VkU3luY1JlbWVtYmVyTGV2ZWwnKS52YWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXphcmRSZW1lbWJlcicpLnZhbHVlOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvdWRTeW5jU2NvcGVUeXBlJykudmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6YXJkU2NvcGUnKS52YWx1ZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3VkU3luY0RpcmVjdGlvbicpLnZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZERpcmVjdGlvbicpLnZhbHVlOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgZXhwaXJlU2VjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpemFyZEV4cGlyZScpLnZhbHVlOwogICAgICAgICAgICBfc2V0Q2xvdWRTeW5jRXhwaXJlQXRGcm9tU2Vjb25kcyhleHBpcmVTZWMpOwoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3VkU3luY0F1dG9TeW5jJykuY2hlY2tlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXphcmRBdXRvU3luYycpLmNoZWNrZWQ7CiAgICAgICAgICAgIGNvbnN0IHJ1bk5vdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXphcmRSdW5Ob3cnKS5jaGVja2VkOwoKICAgICAgICAgICAgLy8gVHJpZ2dlciBTYXZlCiAgICAgICAgICAgIHNhdmVDbG91ZFN5bmNTZXR0aW5ncyh7CiAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocnVuTm93KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bkNsb3VkU3luYygnc3luYycpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBIaWRlIE1vZGFsCiAgICAgICAgICAgIGNvbnN0IG1vZGFsRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvdWRTeW5jV2l6YXJkTW9kYWwnKTsKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBib290c3RyYXAuTW9kYWwuZ2V0SW5zdGFuY2UobW9kYWxFbCk7CiAgICAgICAgICAgIG1vZGFsLmhpZGUoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE9wdGlvbmFsOiBUcmlnZ2VyIFN0cmVuZ3RoIFVwZGF0ZSBvbiBtYWluIFVJCiAgICAgICAgICAgIHVwZGF0ZUNsb3VkU3luY01hc3RlcktleVN0cmVuZ3RoKCk7CiAgICAgICAgfQogICAgPC9zY3JpcHQ+CjwvYm9keT4KCjwvaHRtbD4K",
    "data": [
        {
            "package_name": "com.netease.dwrg",
            "app_channel": "xiaomi_app",
            "log_key": "SvShWXDcmogbZJoU3YWe3Su3Ci-mCRcw",
            "game_id": "h55",
            "xiaomi_app": "mi_2882303761517637640",
            "channel": "xiaomi_app",
            "name": "小米账号"
        },
        {
            "package_name": "com.netease.dwrg",
            "app_channel": "myapp",
            "log_key": "SvShWXDcmogbZJoU3YWe3Su3Ci-mCRcw",
            "game_id": "h55",
            "myapp": {
                "channel": "1106682786",
                "wx_appid": "wxc88a4fdf253cb98c"
            },
            "channel": "myapp",
            "name": "应用宝（微信）"
        },
        {
            "package_name": "com.netease.mrzh",
            "app_channel": "nearme_vivo",
            "log_key": "-BQb6RCHHhYI1ADS6pJigOehE-sITVya",
            "game_id": "g66",
            "nearme_vivo": "com.netease.mrzh.vivo",
            "channel": "nearme_vivo",
            "name": "vivo账号"
        },
        {
            "package_name": "com.netease.dwrg",
            "app_channel": "huawei",
            "log_key": "SvShWXDcmogbZJoU3YWe3Su3Ci-mCRcw",
            "game_id": "h55",
            "huawei": {
                "cp_id": "900086000000106632",
                "product_id": "9105163812218187474",
                "client_id": "157844731798224896",
                "client_secret": "59E9B52D3F196696D0B8AE35F6978C4D172D0818E7766C4480F155D71B078E5A",
                "app_id": "100129243",
                "package_name": "com.netease.dwrg.huawei",
                "api_key": "CV5ssiv1KtmnKwn6pp4UD1/pt9+7gHsDHrFhZa+SZ7yD94RZreeVp58cEA7PBD+YpHTLcgOGFCvdUophUKLla9WFrU+R"
            },
            "channel": "huawei",
            "name": "华为账号"
        },
        {
            "package_name": "com.netease.onmyoji",
            "app_channel": "huawei",
            "log_key": "67NZ2Sw4p_QHNoSi1XTm7fJSb0-fpQVf",
            "game_id": "g37",
            "huawei": {
                "cp_id": "900086000000106632",
                "product_id": "9105163812218187441",
                "client_id": "227877450401448000",
                "client_secret": "060616328E7F76FD71BA6744B69243946FCA3E8716E4600E0459CCD5B671333C",
                "app_id": "10531189",
                "package_name": "com.netease.onmyoji.huawei",
                "api_key": "CV6asp/nV0BCvrO5dipQ7mSvRcQEV1nyOWh30RcJoQwPjV9IuUWYOPaa1iASg2qE48w2TbeDg//PoBnpRLAtNRPa0U42"
            },
            "channel": "huawei",
            "name": "华为账号"
        },
        {
            "package_name": "com.netease.onmyoji",
            "app_channel": "xiaomi_app",
            "log_key": "67NZ2Sw4p_QHNoSi1XTm7fJSb0-fpQVf",
            "game_id": "g37",
            "xiaomi_app": "mi_2882303761517467169",
            "channel": "xiaomi_app",
            "name": "小米账号"
        },
        {
            "package_name": "com.netease.mrzh",
            "app_channel": "xiaomi_app",
            "log_key": "-BQb6RCHHhYI1ADS6pJigOehE-sITVya",
            "game_id": "g66",
            "xiaomi_app": "mi_2882303761517760985",
            "channel": "xiaomi_app",
            "name": "小米账号"
        },
        {
            "package_name": "com.netease.mrzh",
            "app_channel": "huawei",
            "log_key": "-BQb6RCHHhYI1ADS6pJigOehE-sITVya",
            "game_id": "g66",
            "huawei": {
                "cp_id": "900086000000106632",
                "product_id": "9105163812218187467",
                "client_id": "159170010378403840",
                "client_secret": "FFCE372C18A7CF9DD683ACE5DB04D64C76756D3084E6A9B4562E44749B76A636",
                "app_id": "100245697",
                "package_name": "com.netease.mrzh.huawei",
                "api_key": "CV4+GV7i2luO/wfCVQg28vaDifI6ZfK3DJw0twRMaCtV5EIu1yYSbI8sen7j+DhLYx7oixpH9AiG6mELeo4zNXmEaGHt"
            },
            "channel": "huawei",
            "name": "华为账号"
        },
        {
            "package_name": "com.netease.aceracer",
            "app_channel": "xiaomi_app",
            "log_key": "iE_MXAOF3HA0tPZGMeGFMiShe3smSyV1",
            "game_id": "h65",
            "xiaomi_app": "mi_2882303761518398970",
            "channel": "xiaomi_app",
            "name": "小米账号"
        },
        {
            "package_name": "com.netease.dfjs",
            "app_channel": "xiaomi_app",
            "log_key": "3NSFYgJKe252LCoV-fYyM-Q6IT23oMq_",
            "game_id": "g112",
            "xiaomi_app": "mi_2882303761519914651",
            "channel": "xiaomi_app",
            "name": "小米账号"
        },
        {
            "package_name": "com.netease.dfjs",
            "app_channel": "huawei",
            "log_key": "3NSFYgJKe252LCoV-fYyM-Q6IT23oMq_",
            "game_id": "g112",
            "huawei": {
                "cp_id": "900086000000106632",
                "product_id": "736430079245705879",
                "client_id": "623939925221325696",
                "client_secret": "B49B3A8E5D15B3C91989F5297C10CE037ABCDA00F65DAB75A59354E21F5B14DC",
                "project_id": "736430079245705879",
                "app_id": "104312511",
                "api_key": "CgB6e3x9z7UeU/wCjWxyyF0eTbieLzH6gdBDt56RD0OjFNZdPyIFK2qX5qo4MkVapMyyRbxmRARX/yuAskZK60Ro",
                "package_name": "com.netease.dfjs.huawei"
            },
            "channel": "huawei",
            "name": "华为账号"
        },
        {
            "package_name": "com.tencent.tmgp.yys.zqb",
            "app_channel": "myapp",
            "log_key": "",
            "game_id": "g37",
            "myapp": {
                "wx_appid": "wx29b9e58996008b84",
                "channel": "1105545164"
            },
            "channel": "myapp",
            "name": "应用宝（微信）"
        },
        {
            "package_name": "com.tencent.tmgp.yongyong.mrzh",
            "app_channel": "myapp",
            "log_key": "-BQb6RCHHhYI1ADS6pJigOehE-sITVya",
            "game_id": "g66",
            "myapp": {
                "wx_appid": "wx0e002353baf972cb",
                "channel": "1106958946"
            },
            "channel": "myapp",
            "name": "应用宝（微信）"
        },
        {
            "package_name": "com.netease.dwrg",
            "app_channel": "nearme_vivo",
            "log_key": "SvShWXDcmogbZJoU3YWe3Su3Ci-mCRcw",
            "game_id": "h55",
            "nearme_vivo": "com.netease.dwrg5.vivo",
            "channel": "nearme_vivo",
            "name": "vivo账号"
        },
        {
            "package_name": "com.netease.onmyoji",
            "app_channel": "nearme_vivo",
            "log_key": "67NZ2Sw4p_QHNoSi1XTm7fJSb0-fpQVf",
            "game_id": "g37",
            "nearme_vivo": "com.netease.onmyoji.vivo",
            "channel": "nearme_vivo",
            "name": "vivo账号"
        },
        {
            "package_name": "com.netease.wyclx.huawei",
            "app_channel": "huawei",
            "log_key": "yi8_cXKEm4Pe2XYL3E4GjjD9MVtYRuGy",
            "game_id": "h42",
            "huawei": {
                "cp_id": "900086000000106632",
                "product_id": "9105163812218187449",
                "client_id": "203233524948403392",
                "client_secret": "499BF88FF7CFEE2D2EC1F391C1CECCFD06BDA24182C6DDEDAC6A83AA1FC9A3A2",
                "app_id": "100112247",
                "package_name": "com.netease.wyclx.huawei",
                "api_key": "CV49SISsPwVEX8dCFN1amzAJ2/9NA1D7hEgbJcqs/vffTR0zFZVJiHbVft+bNW06J80xCX04Wx8h1ClL4m6fgEQORu8r"
            },
            "channel": "huawei",
            "name": "华为账号"
        },
        {
            "package_name": "com.netease.wyclx",
            "app_channel": "nearme_vivo",
            "log_key": "yi8_cXKEm4Pe2XYL3E4GjjD9MVtYRuGy",
            "game_id": "h42",
            "nearme_vivo": "com.netease.wyclx.vivo",
            "channel": "nearme_vivo",
            "name": "vivo账号"
        },
        {
            "package_name": "com.netease.stzb.huawei",
            "app_channel": "huawei",
            "log_key": "wIBYU30j5y3iehV5iJ8r7L0_3LyYChEr",
            "game_id": "g10",
            "huawei": {
                "cp_id": "900086000000106632",
                "product_id": "9105163812218187479",
                "client_id": "233897443790424256",
                "client_secret": "CFA70E704D95948C9162746FD1170B1226E13B17F5ECF0846E57B80FDD04F13A",
                "app_id": "10296352",
                "package_name": "com.netease.stzb.huawei",
                "api_key": "CV562o/fuSZ4USw2N259kLaYsGTkvxTZVFadSXDd+utMthJ+JBes+mfumX58Alwnk0H60uBlUnc2Igw7YrcdERXnXh7N"
            },
            "channel": "huawei",
            "name": "华为账号"
        },
        {
            "package_name": "com.netease.sky.huawei",
            "app_channel": "huawei",
            "log_key": "lM8jwFDFbrbKABNJr3IAKZHyavfDQfHu",
            "game_id": "ma75",
            "huawei": {
                "cp_id": "900086000000106632",
                "product_id": "9105163812218187455",
                "client_id": "258556697277105216",
                "client_secret": "8F3110AC9845E6A47A04548C26C6EF3750D05E4EF0835E57640397F8314791DF",
                "app_id": "100685413",
                "package_name": "com.netease.sky.huawei",
                "api_key": "CV688hHc3I37tjAjDfiugcWY27ezSSDlTwJHfxVdPTgH2eGPzIzRGJPRWUy2eslezV4DbEdeYsNutXsmeSbhwZqZBkKG"
            },
            "channel": "huawei",
            "name": "华为账号"
        },
        {
            "package_name": "com.netease.wyclx.mi",
            "app_channel": "xiaomi_app",
            "log_key": "yi8_cXKEm4Pe2XYL3E4GjjD9MVtYRuGy",
            "game_id": "h42",
            "xiaomi_app": "mi_2882303761517628038"
        }
    ],
    "netease_qrcode_login_game_list": [
        {
            "game_id": "h55",
            "app_channel": "netease.wyzymnqsd_cps_dev"
        }
    ],
    "feature_game_short_ids": [
        {
            "game_id": "h55",
            "download_distributions": [
                73
            ],
            "downloadable": true,
            "convert_to_normal": true,
            "start_argument": "--start_from_launcher=1 --is_multi_start"
        }
    ],
    "detail_html": "<h3>idv-login登录助手 v5.8.3.1-beta 更新日志</h3>\n<h2>v5.8.3.1-beta 新功能</h2>\n<p>[·] 应群友要求，为程序增加了热更新功能。热更新前会对将要更新的代码进行提示，用户可以按需进行热更新。此功能主要是为了降低维护成本、减少从网盘或其他来源下载新版本的频率。下载最新包体后即可体验热更新功能，介意勿更。</p>\n<h2>v5.8.3.1-beta 问题修复</h2>\n<p>[·] 尝试修复VIVO账号登录失败的问题\n[·] 修复了首次启动工具时，可能重复创建快捷方式的问题</p>\n<h2>v5.8.3-beta 新功能</h2>\n<p>[·] 更新底层Python版本至3.12，更新Qt版本到PyQt6.6，提升整体性能和兼容性\n[·] 新增渠道服账号云同步功能</p>\n<h2>v5.8.3-beta 问题修复</h2>\n<p>[·] 彻底修复了小米、华为等需要手动登录的渠道服白屏的问题\n[·] 修复了有时无法创建快捷方式的问题，对于无法创建快捷方式的情况增加了提示\n[·] 修复了在火狐浏览器上打开渠道服管理界面时出现证书错误的问题\n[·] 优化了应用宝微信扫码登录的方式，现在会在前端渲染二维码，修复了部分情况下二维码无法显示的问题\n[·] 解决启动器数据走代理导致启动器信息无法加载的问题</p>\n<h2>温馨提示</h2>\n<p>此版本不支持低于Windows 10的系统，如为Windows 7/8用户请勿更新，更新后无法使用。</p>",
    "critical_update": false
}